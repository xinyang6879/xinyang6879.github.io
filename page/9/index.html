<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://example.com/page/9/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="yangxin">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
  
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/fork-awesome@1.2.0/css/fork-awesome.min.css">

<meta name="generator" content="Hexo 7.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"><span class="fa fa-bars"></span></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
        
          <a class="nav-icon" href="/atom.xml" title="RSS Feed"><span class="fa fa-rss"></span></a>
        
        <a class="nav-icon nav-search-btn" title="Search"><span class="fa fa-search"></span></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-JavaScript/小点" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2025/08/14/JavaScript/%E5%B0%8F%E7%82%B9/" class="article-date">
  <time class="dt-published" datetime="2025-08-14T03:18:06.336Z" itemprop="datePublished">2025-08-14</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/JS/">JS</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2025/08/14/JavaScript/%E5%B0%8F%E7%82%B9/">【js】小点</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h3 id="检测一个数是否是整数"><a href="#检测一个数是否是整数" class="headerlink" title="检测一个数是否是整数"></a>检测一个数是否是整数</h3><p>将这个值转为十进制，如果是整数，那么十进制后的值和原本的值是相等的；如果不是，那么就不相等</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">parseInt</span>(num) === num</span><br></pre></td></tr></table></figure>

<h3 id="去除字符串空格"><a href="#去除字符串空格" class="headerlink" title="去除字符串空格"></a>去除字符串空格</h3><ul>
<li><p>利用正则</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 去除所有空格</span></span><br><span class="line"><span class="keyword">const</span> re=<span class="regexp">/\s+/g</span>;</span><br><span class="line"><span class="comment">// 去除开头空格</span></span><br><span class="line"><span class="keyword">const</span> re=<span class="regexp">/\s+/</span>;</span><br><span class="line"><span class="comment">// 去除结尾空格</span></span><br><span class="line"><span class="keyword">const</span> re=<span class="regexp">/\s+$/</span>;</span><br><span class="line">str.<span class="title function_">replace</span>(re,<span class="string">&#x27;&#x27;</span>);</span><br></pre></td></tr></table></figure>
</li>
<li><p>使用trim()方法去除首尾空格</p>
</li>
</ul>
<h3 id="undefined和null异同"><a href="#undefined和null异同" class="headerlink" title="undefined和null异同"></a>undefined和null异同</h3><p>相同点</p>
<ul>
<li>都表示无数据</li>
<li>boolean后都是false</li>
</ul>
<p>不同点</p>
<ul>
<li>null表示一个对象变量已经初始化,但未装入对象; undefined则是未初始化变量</li>
<li>null表示”无”的对象,转为数值后是0; undefined表示”无”原始值,转为数值后是NaN</li>
<li>null<ul>
<li>作为函数参数,表示该函数的参数不是对象</li>
<li>作为对象原型链的终点</li>
</ul>
</li>
<li>undefined<ul>
<li>变量被声明了,但没有赋值</li>
<li>调用函数时,没有传的参数时</li>
<li>函数没有返回值,默认返回undefined</li>
<li>对象没有赋值的属性</li>
</ul>
</li>
</ul>
<h3 id="先执行冒泡事件还是捕获事件"><a href="#先执行冒泡事件还是捕获事件" class="headerlink" title="先执行冒泡事件还是捕获事件"></a>先执行冒泡事件还是捕获事件</h3><p>事件顺序: 其他元素捕获阶段-&gt;本元素代码顺序-&gt;其他元素冒泡阶段</p>
<p>先执行捕获.从上往下,如果有捕获,则执行,一直向下到目标元素后,从目标元素开始向上执行冒泡元素</p>
<h3 id="查找页面zindex最大的元素"><a href="#查找页面zindex最大的元素" class="headerlink" title="查找页面zindex最大的元素"></a>查找页面zindex最大的元素</h3><ul>
<li>获取所有元素</li>
<li>使用<code>window.getComputedStyle(_DOM).zIndex</code>获取实际的zindex</li>
<li>进行查找对比</li>
</ul>
<h3 id="引入js文件"><a href="#引入js文件" class="headerlink" title="引入js文件"></a>引入js文件</h3><ul>
<li><p>html的head, body中写script标签</p>
</li>
<li><p>script的src引入外部文件</p>
</li>
<li><p>元素事件中引入</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;button @click=<span class="string">&#x27;alert(&quot;&quot;)&#x27;</span>&gt;btn&lt;/button&gt;</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="获取节点方法"><a href="#获取节点方法" class="headerlink" title="获取节点方法"></a>获取节点方法</h3><p>子节点</p>
<ul>
<li>getElementById&#x2F;getElementByTagName&#x2F;querySelector…</li>
<li>childNodes获取子节点,会把换行和空格也作为子节点</li>
<li>children</li>
<li>firstChild:获取第一个子节点,可能是换行或空格</li>
<li>firstElementChild: 获取第一个真正的子节点,不包括换行或空格</li>
<li>lastChild</li>
</ul>
<p>父节点</p>
<ul>
<li>parentNode: W3C标准</li>
<li>parentElement: IE标准</li>
<li>offsetParent: 获取所有父节点</li>
</ul>
<p>兄弟节点:</p>
<ul>
<li>previousSibling&#x2F;previousElementSibling: 前者包含换行和空格</li>
<li>nextSibling&#x2F;nextEmementSibling</li>
</ul>
<h3 id="DOM节点类型"><a href="#DOM节点类型" class="headerlink" title="DOM节点类型"></a>DOM节点类型</h3><p>12种</p>
<ul>
<li><p>元素节点:nodeType&#x3D;1</p>
<p>  对应HTML标签元素, nodeName是大写的标签名,nodeValue是null</p>
</li>
<li><p>特性节点: nodeType&#x3D;2</p>
<p>  对应HTML标签的属性,只存在于元素的attributes属性中,并不是DOM树的一部分, nodeName是属性名,nodeValue是属性值</p>
</li>
<li><p>文本节点: 3</p>
<p>  text代表网页的HTML标签内容, nodeName是’#text’,nodeValue是标签内容值</p>
</li>
<li><p>CDATA节点: 4</p>
<p>  只针对基于XML的文档, nodeName是’#cdata-section’,nodeValue是CDATA区域中的内容</p>
</li>
<li><p>实体引用名称节点</p>
<p>  实体是一个声明,指定了在XML中取代内容或标记而使用的名称, nodeName是实体引用的名称,nodeValue是null</p>
</li>
<li><p>实体名称节点</p>
<p>   nodeName是实体名称,nodeValue是null</p>
</li>
<li><p>处理指令节点</p>
<p>  , nodeName是target,nodeValue是entire content excluding the target</p>
</li>
<li><p>注释节点: 8</p>
<p>  nodeName是’#comment’,nodeValue是null</p>
</li>
<li><p>文档节点&#x2F;根节点: 9</p>
<p>  nodeName是’#document’,nodeValue是null</p>
</li>
<li><p>文档类型节点</p>
<p>  包含与文档的doctype有关的所有信息, nodeName是doctype的名称,nodeValue是null</p>
</li>
<li><p>文档片段节点</p>
<p>  在文档中没有对应的标记,是一种轻量级的文档,可以包含控制节点,但不会向完整的文档占用额外的资源, nodeName是’#document-fragment’,nodeValue是null</p>
</li>
<li><p>DTD声明节点:12</p>
<p>  nodeName是符号名称,nodeValue是null</p>
</li>
</ul>
<h3 id="宿主对象-原生对象"><a href="#宿主对象-原生对象" class="headerlink" title="宿主对象,原生对象"></a>宿主对象,原生对象</h3><p>原生对象:ECMA-262把本地对象定义为”独立于宿主环境的ECMAScript实现提供的对象”</p>
<p>本地对象包括:Object,Function,Array,String,Boolean,Number,Date,RegExp,Error,EvalError,RangeError,ReferenceError,SyntaxError,TypeError,URIError</p>
<p>内置对象:定义为”由ES实现提供的,独立于宿主环境的所有对象,在ES程序开始执行时出现”,这意味着开发者不需要明确实例化内置对象,它已经被实例化了</p>
<p>内置对象包括:Global和Math</p>
<p>宿主对象:网页的运行环境,即DOM和BOM</p>
<h3 id="this"><a href="#this" class="headerlink" title="this"></a>this</h3><ul>
<li><p>方法调用</p>
<p>  当函数被保存为一个对象属性时,该函数是该对象的方法,this指向该对象</p>
</li>
<li><p>函数调用</p>
<p>  this指向全局</p>
</li>
<li><p>构造器调用</p>
<p>  使用new调用的函数,this将会绑定到这个新创建的对象</p>
</li>
<li><p>apply&#x2F;call</p>
<p>  this指向传入的第一个参数</p>
</li>
</ul>
<h3 id="JSONP"><a href="#JSONP" class="headerlink" title="JSONP"></a>JSONP</h3><p>客户端定义一个函数,然后创建script标签,src为url+?jsonp&#x3D;函数名,之后服务器会生成一个和传递过来的和函数名一样名字的参数,并把需要传递的数据当作擦书传入,然后返回给客户端,此时客户端就指向了这个服务器端返回的函数回调</p>
<p>客户端定义一个函数,然后请求,服务器返回的js内容就是调用这个函数,需要的数据都作为参数传入这个函数</p>
<p>JSONP是一种非官方跨域数据交互协议,允许在服务器端集成script标签返回给客户端,通过js回调的形式实现跨域访问</p>
<p>由于同源策略的影响,跨域会报错,但是script可以访问外部资源,可以绕过同源协议</p>
<h3 id="如何实现页面的前进后退"><a href="#如何实现页面的前进后退" class="headerlink" title="如何实现页面的前进后退"></a>如何实现页面的前进后退</h3><p>监听路由的变化事件hashchange与路由的第一次加载事件load</p>
<ul>
<li>url存在于浏览记录即为后退,后退时,把当前路由后面的浏览记录删除</li>
<li>url不存在浏览记录是前进,前进时,push在当前路由的数组中</li>
<li>url在浏览器末端是在刷新页面,不需要对路由数据做任何操作</li>
</ul>
<p>注:数组可能存在多次相同的路由,应该用key来区分相同路由的不同实例</p>
<p>用两个栈实现浏览器的前进后退功能, 使用两个栈X和Y,把首次浏览的页面依次压入栈X,当单击”后退”时,再依次从栈X中出栈,并将其放入Y中.当点击”前进”按钮时,从Y中出栈,将其放入X中.当X中无数据时,说明页面无法继续后退;当Y中无数据时,说明页面无法前进</p>
<ul>
<li>进入了多个页面a,b,c:将abc压入X栈,此时在c页面</li>
<li>后退两步,将bc从X中弹出,放入Y栈,此时在a页面</li>
<li>前进一步,将b从Y中弹出,放入X栈,此时在b页面</li>
<li>打开新页面d,将d压入X栈,此时在d页面</li>
<li>清空Y,此时无法前面或后退到c页面</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2025/08/14/JavaScript/%E5%B0%8F%E7%82%B9/" data-id="cmf67fxd6000zbcfmbcdlb5go" data-title="【js】小点" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/js/" rel="tag">js</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-JavaScript/【JS】修饰器" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2025/08/14/JavaScript/%E3%80%90JS%E3%80%91%E4%BF%AE%E9%A5%B0%E5%99%A8/" class="article-date">
  <time class="dt-published" datetime="2025-08-14T03:18:06.334Z" itemprop="datePublished">2025-08-14</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/JS/">JS</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2025/08/14/JavaScript/%E3%80%90JS%E3%80%91%E4%BF%AE%E9%A5%B0%E5%99%A8/">【js】修饰器（Decorator）</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="修饰器"><a href="#修饰器" class="headerlink" title="修饰器"></a>修饰器</h2><p>修饰器是 ES7 的提案，是一种用于修改类、方法或属性的语法，它可以在不修改原始代码的情况下增强其功能。修饰器可以实现横切关注点（cross-cutting concerns）的功能，例如日志记录、性能分析、缓存等。通过将这些功能与原始代码分离，我们可以更好地组织和维护代码，并实现更高的可重用性和可扩展性。</p>
<p>它的出现可以解决其下两个问题:</p>
<ul>
<li><p>不同类之间共享方法</p>
</li>
<li><p>编译期对类和方法的行为进行改变</p>
</li>
</ul>
<h2 id="类修饰器"><a href="#类修饰器" class="headerlink" title="类修饰器"></a>类修饰器</h2><p>类修饰器用于修改类的行为和属性。它可以在类定义之前应用，以修改类的构造函数或原型。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">log</span>(<span class="params">target</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> originCon = target;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;log&quot;</span>, target);</span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">newCon</span>(<span class="params">...args</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;newCon&quot;</span>, args);</span><br><span class="line">    args[<span class="number">0</span>] = <span class="string">&quot;234&quot;</span>; <span class="comment">//修改传给class的参数</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title function_">originCon</span>(...args);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> newCon;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@log</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">classA</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">props</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;classA&quot;</span>, props);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 输出：</span></span><br><span class="line"><span class="comment">// log class&#123;...&#125;</span></span><br><span class="line"><span class="keyword">const</span> objA = <span class="keyword">new</span> <span class="title function_">classA</span>(<span class="string">&quot;123&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 输出：</span></span><br><span class="line"><span class="comment">// new Con [&#x27;123&#x27;]</span></span><br><span class="line"><span class="comment">// classA [&#x27;234&#x27;]</span></span><br></pre></td></tr></table></figure>

<ul>
<li><p>访问静态属性</p>
<p>定义了一个修饰器函数 log，然后将这个修饰器应用在 classA，在使用这个修饰器的时候，就会执行修饰器函数 log。</p>
<p>但是如果需要访问类的静态属性或者方法，会直接报错：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">@log</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">classA</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">props</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;classA&quot;</span>, props);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">static</span> <span class="title function_">staticFn</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;staticFn&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">classA.<span class="title function_">staticFn</span>();</span><br><span class="line"><span class="comment">//   报错：TypeError: classA.staticFn is not a function</span></span><br></pre></td></tr></table></figure>

<p>因为 log 返回的新实例，不是原始的类，所以没有 staticFn 方法，导致报错。所以需要在修饰器函数中，将静态属性和方法进行赋值。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">log</span>(<span class="params">target</span>) &#123;</span><br><span class="line"><span class="keyword">const</span> originCon = target;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">dir</span>(target);</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">newCon</span>(<span class="params">...args</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;newCon&quot;</span>, args);</span><br><span class="line">    args[<span class="number">0</span>] = <span class="string">&quot;234&quot;</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title function_">originCon</span>(...args);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 辅助函数，用于复制静态方法</span></span><br><span class="line">+  <span class="keyword">function</span> <span class="title function_">copyStatic</span>(<span class="params">originalConstructor, newConstructor</span>) &#123;</span><br><span class="line">+    <span class="title class_">Reflect</span>.<span class="title function_">ownKeys</span>(originalConstructor).<span class="title function_">forEach</span>(<span class="function">(<span class="params">prop</span>) =&gt;</span> &#123;</span><br><span class="line">+      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;prop&quot;</span>, prop);</span><br><span class="line">+      <span class="keyword">if</span> (prop !== <span class="string">&quot;prototype&quot;</span> &amp;&amp; prop !== <span class="string">&quot;length&quot;</span> &amp;&amp; prop !== <span class="string">&quot;name&quot;</span>) &#123;</span><br><span class="line">+        newConstructor[prop] = originalConstructor[prop];</span><br><span class="line">+      &#125;</span><br><span class="line">+    &#125;);</span><br><span class="line">+  &#125;</span><br><span class="line">+  <span class="title function_">copyStatic</span>(originCon, newCon);</span><br><span class="line"><span class="keyword">return</span> newCon;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">classA.<span class="title function_">staticFn</span>();</span><br><span class="line"></span><br><span class="line">输出：</span><br><span class="line"><span class="comment">// staticFn</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>应用场景</p>
<ul>
<li><strong>日志记录</strong>：在类的方法执行前后记录日志信息。</li>
<li><strong>验证和授权</strong>：对类的方法进行验证和授权操作。</li>
<li><strong>性能分析</strong>：测量类的方法执行时间，进行性能分析。</li>
<li><strong>依赖注入</strong>：为类的构造函数注入依赖项。</li>
</ul>
</li>
</ul>
<h2 id="方法修饰器"><a href="#方法修饰器" class="headerlink" title="方法修饰器"></a>方法修饰器</h2><p>方法修饰器用于修改类的方法行为。它可以在方法定义之前应用，以修改方法的特性和行为。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">log</span>(<span class="params">target, name, descriptor</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">dir</span>(target);</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">dir</span>(name);</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">dir</span>(descriptor);</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;初始化调用修饰器&quot;</span>);</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    ...descriptor,</span><br><span class="line">    <span class="attr">value</span>: <span class="keyword">function</span> (<span class="params">...args</span>) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;修饰器函数的方法&quot;</span>);</span><br><span class="line">      <span class="keyword">const</span> res = descriptor.<span class="property">value</span>.<span class="title function_">apply</span>(<span class="variable language_">this</span>, args);</span><br><span class="line">      <span class="keyword">return</span> res * <span class="number">100</span>;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">classA</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">props</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;classA&quot;</span>, props);</span><br><span class="line">  &#125;</span><br><span class="line">  @log</span><br><span class="line">  <span class="title function_">addFn</span>(<span class="params">a, b</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;调用了原始函数&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> a + b;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> objA = <span class="keyword">new</span> <span class="title function_">classA</span>(<span class="string">&quot;123&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> res = objA.<span class="title function_">addFn</span>(<span class="number">1</span>, <span class="number">2</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;res&quot;</span>, res);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 输出：</span></span><br><span class="line"><span class="comment">// Object &#123; addFn, constructor: class classA &#125;</span></span><br><span class="line"><span class="comment">// addFn</span></span><br><span class="line"><span class="comment">// &#123;value: f addFn(a, b), enumerable: false, configurable: true, writable: true&#125;</span></span><br><span class="line"><span class="comment">// 初始化调用修饰器</span></span><br><span class="line"><span class="comment">// classA 123</span></span><br><span class="line"><span class="comment">// 修饰器函数的方法</span></span><br><span class="line"><span class="comment">// 调用了原始函数</span></span><br><span class="line"><span class="comment">// res 300</span></span><br></pre></td></tr></table></figure>

<p>方法修饰器函数接收三个参数，分别是<code>target</code>（类的原型或构造函数）、<code>name</code>（方法名）和<code>descriptor</code>（方法的属性描述符）。修改<code>descriptor.value</code>可以替换原有的方法</p>
<ul>
<li><p>应用场景</p>
</li>
<li><p><strong>日志记录</strong>：在方法执行前后记录日志信息。</p>
</li>
<li><p><strong>验证和授权</strong>：对方法进行验证和授权操作。</p>
</li>
<li><p><strong>性能分析</strong>：测量方法执行时间，进行性能分析。</p>
</li>
<li><p><strong>缓存</strong>：为方法添加缓存功能，提高性能。</p>
</li>
</ul>
<h2 id="属性修饰器"><a href="#属性修饰器" class="headerlink" title="属性修饰器"></a>属性修饰器</h2><p>用于修改类的属性行为。它可以在属性定义之前应用，以修改属性的特性和行为</p>
<p>虽然有很多博客说可以直接用类属性修饰器，但是个人实际使用了一下，并未成功</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">protoDec</span>(<span class="params">initVal</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">function</span> (<span class="params">target, name</span>) &#123;</span><br><span class="line">    target[name] = initVal;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">dir</span>(target);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(name);</span><br><span class="line">    <span class="keyword">let</span> val = target[name];</span><br><span class="line">    <span class="keyword">const</span> getter = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;获取值：&quot;</span>, val);</span><br><span class="line">      <span class="keyword">return</span> val;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">const</span> setter = <span class="keyword">function</span> (<span class="params">newVal</span>) &#123;</span><br><span class="line">      <span class="keyword">if</span> (<span class="keyword">typeof</span> newVal === <span class="string">&quot;number&quot;</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;设置值：&quot;</span>, newVal);</span><br><span class="line">        val = newVal + <span class="number">1</span>;</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&quot;设置值必须为数字&quot;</span>);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(target, name, &#123;</span><br><span class="line">      <span class="attr">get</span>: getter,</span><br><span class="line">      <span class="attr">set</span>: setter,</span><br><span class="line">      <span class="attr">enumerable</span>: <span class="literal">true</span>,</span><br><span class="line">      <span class="attr">configurable</span>: <span class="literal">true</span>,</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">classA</span> &#123;</span><br><span class="line">  @<span class="title function_">protoDec</span>(<span class="string">&quot;0&quot;</span>)</span><br><span class="line">  num;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">props</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;classA&quot;</span>, props);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> objA = <span class="keyword">new</span> <span class="title function_">classA</span>(<span class="string">&quot;123&quot;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;objA&quot;</span>, objA.<span class="property">num</span>);</span><br><span class="line">objA.<span class="property">num</span> = <span class="number">100</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;objA&quot;</span>, objA.<span class="property">num</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 当前输出：</span></span><br><span class="line"><span class="comment">// Object &#123; num: &quot;0&quot; &#125;</span></span><br><span class="line"><span class="comment">// num</span></span><br><span class="line"><span class="comment">// classA 123</span></span><br><span class="line"><span class="comment">// objA undefined</span></span><br><span class="line"><span class="comment">// objA 100</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 预期输出：</span></span><br><span class="line"><span class="comment">// Object &#123; num: &quot;0&quot; &#125;</span></span><br><span class="line"><span class="comment">// num</span></span><br><span class="line"><span class="comment">// classA 123</span></span><br><span class="line"><span class="comment">// 获取值：0</span></span><br><span class="line"><span class="comment">// objA &quot;0&quot;</span></span><br><span class="line"><span class="comment">// 设置值：100</span></span><br><span class="line"><span class="comment">// objA 101</span></span><br></pre></td></tr></table></figure>

<h2 id="参数修饰器"><a href="#参数修饰器" class="headerlink" title="参数修饰器"></a>参数修饰器</h2><p>参数修饰器用于修改方法的参数行为。它可以在方法参数声明之前应用，以修改参数的特性和行为</p>
<p>参数装饰器只能用来<strong>监视</strong>一个方法的参数是否被传入，无法修改函数执行结果</p>
<p>参数装饰器表达式会在运行时当作函数被调用，传入下列 3 个参数：</p>
<ul>
<li>对于静态成员来说是类的构造函数，对于实例成员是类的原型对象。</li>
<li>成员的名字。</li>
<li>参数在函数参数列表中的索引。</li>
</ul>
<p>参数装饰器的返回值会被<strong>忽略</strong>。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">paramsDec</span>(<span class="params">target, name, index</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">dir</span>(target)</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">dir</span>(name)</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">dir</span>(index)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">classA</span> &#123;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">fn</span>(<span class="params">@paramsDec num1, @paramsDec num2</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;执行函数&quot;</span>)</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">props</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;classA&quot;</span>, props);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> objA = <span class="keyword">new</span> <span class="title function_">classA</span>(<span class="string">&quot;123&quot;</span>);</span><br><span class="line">objA.<span class="title function_">fn</span>(<span class="number">1</span>, <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">输出：</span><br><span class="line"><span class="title class_">Object</span> &#123;</span><br><span class="line">    <span class="attr">constructor</span>: <span class="keyword">class</span> <span class="title class_">classA</span>,</span><br><span class="line">    <span class="attr">fn</span>: ƒ <span class="title function_">fn</span>(num1, num2)</span><br><span class="line">&#125;</span><br><span class="line">fn</span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="title class_">Object</span> &#123;</span><br><span class="line">    <span class="attr">constructor</span>: <span class="keyword">class</span> <span class="title class_">classA</span>,</span><br><span class="line">    <span class="attr">fn</span>: ƒ <span class="title function_">fn</span>(num1, num2)</span><br><span class="line">&#125;</span><br><span class="line">fn</span><br><span class="line"><span class="number">0</span></span><br><span class="line">classA <span class="number">123</span></span><br><span class="line">执行函数</span><br></pre></td></tr></table></figure>

<h2 id="装饰器执行顺序"><a href="#装饰器执行顺序" class="headerlink" title="装饰器执行顺序"></a>装饰器执行顺序</h2><p>当多个装饰器应用在一个声明上时会进行如下步骤的操作：</p>
<ul>
<li>由上至下依次对装饰器表达式求值。</li>
<li>求值的结果会被当作函数，由下至上依次调用。</li>
</ul>
<h2 id="参链"><a href="#参链" class="headerlink" title="参链"></a>参链</h2><p><a target="_blank" rel="noopener" href="https://www.coding-time.cn/js/advance/%E8%A3%85%E9%A5%B0%E5%99%A8.html#_8-%E5%B8%B8%E7%94%A8%E4%BF%AE%E9%A5%B0%E5%99%A8%E5%BA%93%E5%92%8C%E5%B7%A5%E5%85%B7">JavaScript修饰器：简化代码，增强功能</a></p>
<p><a target="_blank" rel="noopener" href="https://www.tslang.cn/docs/handbook/decorators.html">装饰器</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2025/08/14/JavaScript/%E3%80%90JS%E3%80%91%E4%BF%AE%E9%A5%B0%E5%99%A8/" data-id="cmf67fxd5000wbcfmc74q29f4" data-title="【js】修饰器（Decorator）" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/js/" rel="tag">js</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-HTTP/【Htpp】header" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2025/08/14/HTTP/%E3%80%90Htpp%E3%80%91header/" class="article-date">
  <time class="dt-published" datetime="2025-08-14T03:18:06.271Z" itemprop="datePublished">2025-08-14</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/http/">http</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2025/08/14/HTTP/%E3%80%90Htpp%E3%80%91header/">【Htpp】header</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="通用头部"><a href="#通用头部" class="headerlink" title="通用头部"></a>通用头部</h2><h3 id="cache-control"><a href="#cache-control" class="headerlink" title="cache-control"></a>cache-control</h3><p>控制缓存，可以接收多个参数，参数之间以“，”隔空。</p>
<blockquote>
<p>请求和响应共用</p>
</blockquote>
<ul>
<li><p>no-cache：表示强制使用最新的值而不使用缓存。请求头部包含no-cache，表示客户端不接收缓存过的响应，缓存服务器必须把客户端请求转发给源服务器；响应请求里面包含，那么缓存服务器不能对响应资源进行缓存。（协商缓存</p>
</li>
<li><p>no-store：不应该缓存当前内容，表示对应的报文中包含机密信息，不缓存</p>
</li>
<li><p>no-transform：缓存不能改变主体的媒体类型，能防止缓存服务器压缩图片资源等。</p>
</li>
<li><p>max-age：缓存有效期（以秒为单位）。请求包含时，如果缓存资源的缓存时间比指定时间数值更小时则接受缓存资源，当值为0时，缓存服务器会把请求转发给源服务器；当响应包含时，缓存服务器不再确认资源的有效期，而以max-age数值作为缓存保存时长。</p>
</li>
<li><p>s-maxage: 用于配置<strong>代理服务器</strong>的缓存，以秒为单位，优先级高于max-age，但只在代理服务器中生效，客户端依然使用max-age</p>
</li>
</ul>
<h4 id="max-age-0和no-cache"><a href="#max-age-0和no-cache" class="headerlink" title="max-age&#x3D;0和no-cache"></a>max-age&#x3D;0和no-cache</h4><ul>
<li><p><code>no-cache</code>：浏览器可以进行缓存，未定性缓存是否已经过期，禁用未经验证的缓存。但是在每次请求时，需要像服务端发送一个请求判断这次的资源是否过期。如果服务端返回304，说明资源还在有效期内，浏览器可以直接使用缓存资源；但是如果内容已经过期了，服务器会返回新的内容。比max-age&#x3D;0更严格，确保每次都需要进行验证</p>
</li>
<li><p><code>max-age=0</code>: 将缓存已经视为过期了，但允许客户端复用缓存（通过验证），需要像服务器发起请求，如果服务端返回304，那么客户端依旧使用缓存，如果是200，那么就视为需要重新获取新数据。</p>
</li>
</ul>
<p>Cache-Control: no-cache, max-age&#x3D;0是冗余写法，但是可以确保浏览器的兼容性</p>
<table>
<thead>
<tr>
<th>特性</th>
<th>max-age&#x3D;0</th>
<th>no-cache</th>
</tr>
</thead>
<tbody><tr>
<td>缓存是否保留</td>
<td>保留，但被视为过期</td>
<td>保留，但每次使用前需要验证</td>
</tr>
<tr>
<td>验证条件</td>
<td>可能被其他条件覆盖</td>
<td>强制无条件</td>
</tr>
<tr>
<td>优先级</td>
<td>较低</td>
<td>较高</td>
</tr>
<tr>
<td>场景</td>
<td>希望缓存快速更新，但允许复用</td>
<td>强制要求数据一致性（如实时数据）</td>
</tr>
</tbody></table>
<blockquote>
<p>请求头部</p>
</blockquote>
<ul>
<li><p>min-fresh：要求缓存服务器指定时间内返回响应（以秒为单位）</p>
</li>
<li><p>only-if-cached：客户端仅在缓存服务器本地缓存目标资源的情况下才会要求其返回值，也就是说不会向源服务器转发请求。</p>
</li>
</ul>
<blockquote>
<p>响应头部</p>
</blockquote>
<ul>
<li><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/mK0vouYv4BwgX190fSd/article/details/89880083">must-revalidate</a>：本地缓存过期前可以使用，否则必须进行有效性校验</p>
</li>
<li><p>public：响应可能会被任何对象缓存，没有限制</p>
</li>
<li><p>private： 响应只能被特定用户缓存，不能被其他用户使用</p>
</li>
<li><p>proxy-revalidate：仅适用于共享缓存，私有缓存时忽略</p>
</li>
</ul>
<h3 id="connection"><a href="#connection" class="headerlink" title="connection"></a>connection</h3><ul>
<li><p>close: 当一方的connection为close时，表示关闭此次连接</p>
</li>
<li><p>keep-live：持久化连接</p>
</li>
</ul>
<h3 id="date"><a href="#date" class="headerlink" title="date"></a>date</h3><p>报文创建时间</p>
<h2 id="请求头部"><a href="#请求头部" class="headerlink" title="请求头部"></a>请求头部</h2><h3 id="accept"><a href="#accept" class="headerlink" title="accept"></a>accept</h3><p>可以设置多个值，每个值通过“，”进行分割</p>
<p>常用值：text&#x2F;html，application&#x2F;xml；q&#x3D;0.9等</p>
<p>注：q&#x3D;x，是给当前类型赋予权重，范围为0～1，可精确到小数点后3位。和MIME子类型通过“，”分割，默认权重值为1。服务器会优先返回权重较大的类型，如果权重相等，则按照从左至右的顺序处理。</p>
<h3 id="accept-charset"><a href="#accept-charset" class="headerlink" title="accept-charset"></a>accept-charset</h3><p>客户端可以处理的字符集类型，通常不需要额外设置此项，每种文件类型都有默认的值。和accept一样可以设置权重</p>
<h3 id="accept-encoding"><a href="#accept-encoding" class="headerlink" title="accept-encoding"></a>accept-encoding</h3><p>客户端可以接收的编码方式，通常这个字段值会是某种压缩算法，比如gzip等。和accept一样可以设置权重</p>
<h3 id="accept-language"><a href="#accept-language" class="headerlink" title="accept-language"></a>accept-language</h3><p>客户端可以解析的自然语言，可以一次性指定多个语言并设置权重。</p>
<h3 id="authorization"><a href="#authorization" class="headerlink" title="authorization"></a>authorization</h3><p>告知服务端认证信息。通常在收到401后，在请求头里面加入authorization：type credentials</p>
<h3 id="host（必传）"><a href="#host（必传）" class="headerlink" title="host（必传）"></a>host（必传）</h3><p>告知服务器请求资源所处的互联网主机名和端口号（不指定将使用默认端口号）。</p>
<p>必传是因为服务器在接收到请求后将请求的主机号替换为ip地址，但是如果这个ip部署了多个域名，那么服务器无法转发到对应的请求</p>
<h3 id="if-modified-since"><a href="#if-modified-since" class="headerlink" title="if-modified-since"></a>if-modified-since</h3><p>确认代理或者客户端本地资源的有效性。服务端在接受到这个值后，会与资源最近更新时间做对比，如果在字段指定的日期之后资源发生了变化，那么服务器会返回最新的资源，否则返回304</p>
<h3 id="if-none-match"><a href="#if-none-match" class="headerlink" title="if-none-match"></a>if-none-match</h3><p>用于判断本地缓存是否失效。存储的是上个响应头部的etag值。当指定的值与资源的etag值不一致时，服务器端才会处理请求</p>
<h2 id="响应头部"><a href="#响应头部" class="headerlink" title="响应头部"></a>响应头部</h2><h3 id="age"><a href="#age" class="headerlink" title="age"></a>age</h3><p>告知客户端服务端在多久前创建了响应，若创建该响应的是缓存服务器，age指的是缓存后响应再次发起认证到认证完成的时间。代理创建响应必须加上age字段</p>
<h3 id="etag"><a href="#etag" class="headerlink" title="etag"></a>etag</h3><p>服务端在每次更新资源后生成一个唯一对应的标识，生成算法由服务器自行决定</p>
<p>分类：</p>
<ul>
<li><p>强etag：资源发生变化就会改变</p>
</li>
<li><p>弱etag：资源发生了较大变化时才会改变。以W&#x2F;来表示</p>
</li>
</ul>
<h3 id="location"><a href="#location" class="headerlink" title="location"></a>location</h3><p>使用头部字段location可以引导请求发起方至某个与请求url位置不同的资源，一般会配合3xx进行使用</p>
<h3 id="www-authenticate"><a href="#www-authenticate" class="headerlink" title="www-authenticate"></a>www-authenticate</h3><p>告知客户端当前服务器端可接收的认证方案，然后客户端可以在authentication字段中返回对应的值</p>
<h2 id="主体头部"><a href="#主体头部" class="headerlink" title="主体头部"></a>主体头部</h2><h3 id="allow"><a href="#allow" class="headerlink" title="allow"></a>allow</h3><p>通知客户端能够支持的http请求方法。当服务端接收到不支持http请求方法时，会响应状态信息405，同时把支持的方法写入allow字段</p>
<h3 id="content-encoding"><a href="#content-encoding" class="headerlink" title="content-encoding"></a>content-encoding</h3><p>告知客户端当前响应内容的编码方式</p>
<h3 id="content-length"><a href="#content-length" class="headerlink" title="content-length"></a>content-length</h3><p>表明主体部分的大小，单位为字节</p>
<h3 id="content-type"><a href="#content-type" class="headerlink" title="content-type"></a>content-type</h3><p>表明响应主体内容的MIME类型</p>
<h3 id="last-modified"><a href="#last-modified" class="headerlink" title="last-modified"></a>last-modified</h3><p>资源最后的修改时间，配合缓存使用</p>
<h3 id="expires"><a href="#expires" class="headerlink" title="expires"></a>expires</h3><p>失效日期</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2025/08/14/HTTP/%E3%80%90Htpp%E3%80%91header/" data-id="cmf67fxd0000kbcfmbpyb92fr" data-title="【Htpp】header" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/http/" rel="tag">http</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-HTTP/【http】队头阻塞" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2025/08/14/HTTP/%E3%80%90http%E3%80%91%E9%98%9F%E5%A4%B4%E9%98%BB%E5%A1%9E/" class="article-date">
  <time class="dt-published" datetime="2025-08-14T03:18:06.271Z" itemprop="datePublished">2025-08-14</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/http/">http</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2025/08/14/HTTP/%E3%80%90http%E3%80%91%E9%98%9F%E5%A4%B4%E9%98%BB%E5%A1%9E/">【Htpp】队头阻塞</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="http1队头阻塞"><a href="#http1队头阻塞" class="headerlink" title="http1队头阻塞"></a>http1队头阻塞</h2><p>除了TCP的本身限制外，http1的先进先出（FIFO）的设计导致的。即浏览器在发送了请求后，必须按照发送顺序获取到相应的响应结果。例如请求A、请求B按顺序发送，请求A需要1s响应，请求B需要0.1s响应，即使B请求响应更加快速，但是浏览器依旧需要等待A的响应才能获取到B的响应。这就是http1的队头阻塞</p>
<h3 id="FIFO"><a href="#FIFO" class="headerlink" title="FIFO"></a>FIFO</h3><h4 id="使用原因"><a href="#使用原因" class="headerlink" title="使用原因"></a>使用原因</h4><ul>
<li><p>简化协议实现</p>
<p>  http1设计在早期互联网，顺序处理模型更加简单，减少协议复杂性</p>
</li>
<li><p>避免资源竞争</p>
<p>  顺序处理可以避免服务器或客户端因并发处理多个请求导致数据混乱</p>
</li>
<li><p>兼容性</p>
<p>  早期浏览器和服务器对并发有限制，因此使用FIFO是权衡之后的结果</p>
</li>
</ul>
<h4 id="表现"><a href="#表现" class="headerlink" title="表现"></a>表现</h4><p>请求顺序化和相应顺序化</p>
<h4 id="导致问题"><a href="#导致问题" class="headerlink" title="导致问题"></a>导致问题</h4><ul>
<li><p>队头阻塞</p>
</li>
<li><p>性能问题</p>
<p>  高并发情况下，FIFO机制会导致连接利用率低下，无法充分利用带宽</p>
</li>
</ul>
<h4 id="改进尝试"><a href="#改进尝试" class="headerlink" title="改进尝试"></a>改进尝试</h4><p>管道化：允许客户端在未接受响应是连续发送多个请求</p>
<ul>
<li><p>缺点</p>
<ul>
<li>响应必须按顺序返回</li>
<li>服务器实现复杂，且易因队头阻塞导致性能问题</li>
<li>浏览器默认禁用管道话</li>
</ul>
</li>
</ul>
<p>因此管道化实际并未解决队头阻塞问题</p>
<h2 id="http2"><a href="#http2" class="headerlink" title="http2"></a>http2</h2><h3 id="如何解决"><a href="#如何解决" class="headerlink" title="如何解决"></a>如何解决</h3><ul>
<li><p>二进制分帧</p>
<p>  http2中引入了二进制分帧的概念，即将请求的参数及数据全部分解为一个一个的二进制格式帧，这样可以提升传输和解析的效率。</p>
</li>
<li><p>多路复用</p>
<p>  流是一组双向的帧序列，每个流都有一个唯一的标识符，并且可以在同一个连接中并发传输多个流，可以最大程度实现多路复用</p>
<p>  一个流可以由多个帧组成，这些帧按顺序发送，接收方根据流标识符将其重新组合为完整的请求或响应</p>
</li>
</ul>
<p>因此多个http可以同时并发传输或者交错传输，从而减少队头阻塞</p>
<h3 id="帧"><a href="#帧" class="headerlink" title="帧"></a>帧</h3><h4 id="内容"><a href="#内容" class="headerlink" title="内容"></a>内容</h4><p>每个帧有一个固定头部（9字节），包括：</p>
<ul>
<li><p>长度：Length</p>
<p>  帧负载长度，由24位3个字节大小表示</p>
</li>
<li><p>类型：Type</p>
<p>  帧类型，说明格式及其语义，用8位1个字节表示</p>
</li>
<li><p>标志：Flags</p>
<p>  指示帧的特定属性或状态，用8位1个字节表示</p>
</li>
<li><p>流标识符：Stream Identifier</p>
<p>  表示该帧关联的流，用31为表示，上限为2^31</p>
</li>
<li><p>帧数据</p>
<p>  传输的数据内容Payload由帧类型决定</p>
</li>
<li><p>R<br>  1位保留字段，未定义，以0x0结尾</p>
</li>
</ul>
<h4 id="帧类型"><a href="#帧类型" class="headerlink" title="帧类型"></a>帧类型</h4><p>Pad Length：填充字节长度<br>E：标识流是否为独占，设置PRIORITY时才有值<br>Stream Dependency：流的依赖流，设置PRIORITY时才有值<br>Weight：流优先级权重，设置PRIORITY时才有值<br>Header Block Fragment：Header块片段<br>Padding：填充字节长度</p>
<ul>
<li><p>DATA帧</p>
<p>  数据帧主要存储http2数据报文，包含8位填充字节+填充字节长度（PADDED）标记位true时说明由填充字节+Data具体传输的数据</p>
</li>
<li><p>HEADER帧</p>
<p>  包含Pad Length（填充字节长度）+E（标识流是否为独占，设置PRIORITY时才有值）+Stream Dependency（流的依赖流，设置PRIORITY时才有值）+ Weight（流优先级权重，设置PRIORITY时才有值）+ Header Block Fragment（Header块片段）+ Padding（填充字节长度）</p>
</li>
<li><p>PROIRITY帧</p>
<p>  发送流的优先级，包含E+Stream Dependency+Weight</p>
</li>
<li><p>RST_STREAM帧</p>
<p>  当发送错误或取消时，用于终止一个流，包含Error Code，32位错误代码，说明错误原因</p>
</li>
<li><p>SETTINGS帧</p>
<p>  用于传达连接端点之间的配置参数，标为ACK&#x3D;0表示被对等的SETTINGS帧使用，不为0时表示FRAME_SIZE_ERROR连接错误</p>
</li>
<li><p>PUSH_PROMISE帧</p>
<p>  服务端向客户端推送的帧，客户端可以返回RST_STREAM拒绝</p>
</li>
<li><p>PING帧</p>
<p>  心跳监测，测量发送往还时间，确定连接是否正常，ACK&#x3D;0表示PING帧响应，1表示PING帧</p>
</li>
<li><p>GOAWAY帧</p>
<p>  用于关闭连接或发出错误，允许停止接受新的流并完成前面的流处理</p>
<p>  包括R+Last Stream Id + Error Code + Addictional Debug Data</p>
</li>
<li><p>WINDOW_UPDATE帧</p>
<p>  用于连接和流的流量控制</p>
</li>
<li><p>CONTINUATION帧</p>
<p>  一种持续帧，用于继续传输Header头块片段。通常Header块比较大，在HEADERS、PUSH_PROMISE、CONTINUATION帧之后继续传输</p>
</li>
</ul>
<h3 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h3><p>http2只解决了应用层的问题，但是由于其还是基于tcp的，因此tcp硬伤的队头阻塞依旧存在</p>
<p>tcp由于“可靠传输”而包含的按序到达的机制，使得http2的队头阻塞问题仍然存在</p>
<h2 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h2><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/huansky/p/14420723.html">HTTP 1.x 学习笔记 —— Web 性能权威指南</a></p>
<p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/330300133">关于队头阻塞（Head-of-Line blocking），看这一篇就足够了</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_63951768/article/details/144917352">HTTP1.1 对头阻塞和 HTTP2 中对其的解决措施</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2025/08/14/HTTP/%E3%80%90http%E3%80%91%E9%98%9F%E5%A4%B4%E9%98%BB%E5%A1%9E/" data-id="cmf67fxd0000lbcfm209q8f4z" data-title="【Htpp】队头阻塞" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/http/" rel="tag">http</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-HTTP/【前端缓存】随机数位置区别" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2025/08/14/HTTP/%E3%80%90%E5%89%8D%E7%AB%AF%E7%BC%93%E5%AD%98%E3%80%91%E9%9A%8F%E6%9C%BA%E6%95%B0%E4%BD%8D%E7%BD%AE%E5%8C%BA%E5%88%AB/" class="article-date">
  <time class="dt-published" datetime="2025-08-14T03:18:06.271Z" itemprop="datePublished">2025-08-14</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/http/">http</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2025/08/14/HTTP/%E3%80%90%E5%89%8D%E7%AB%AF%E7%BC%93%E5%AD%98%E3%80%91%E9%9A%8F%E6%9C%BA%E6%95%B0%E4%BD%8D%E7%BD%AE%E5%8C%BA%E5%88%AB/">【前端缓存】随机数位置区别</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="文件随机数存放位置区别"><a href="#文件随机数存放位置区别" class="headerlink" title="文件随机数存放位置区别"></a>文件随机数存放位置区别</h2><h3 id="文件url-随机数"><a href="#文件url-随机数" class="headerlink" title="文件url+?+随机数"></a>文件url+?+随机数</h3><ul>
<li><p><code>https://xxx?v=1.x.x</code></p>
<p>一般用于版本号对应的文件</p>
</li>
<li><p><code>https://xxx?c=s45sdf</code></p>
<p>一般用于文件内容生成的hash值</p>
</li>
</ul>
<h3 id="文件名-hash值"><a href="#文件名-hash值" class="headerlink" title="文件名+hash值"></a>文件名+hash值</h3><p><code>https://xxxs45sdf</code></p>
<p>hash值一般由文件内容生成</p>
<h2 id="区别"><a href="#区别" class="headerlink" title="区别"></a>区别</h2><p>以上两种存放位置都可以使浏览器获取最新的文件，而不是走缓存拿文件</p>
<p>当前主流的一般是用文件名+hash值的形式。原因如下</p>
<blockquote>
<p>一般发版时，是有html文件和js、css文件的。<br />浏览器首先去请求html文件，html嵌入了js、css等其他文件。<br />那么在请求html和js、css等文件的这个时间差内，如果采用第一种方式(文件url+?+随机数)，就容易出现问题</p>
</blockquote>
<ul>
<li><p>如果先发html文件，再发js、css等文件</p>
<ul>
<li><p>客户请求时，浏览器不会走缓存，会去取最新的文件。</p>
</li>
<li><p>但是可能这个时候取的js、css文件还是老的文件。那么就导致客户端下次再去请求时，走的其实是缓存。</p>
</li>
</ul>
</li>
<li><p>先发js、css等文件，再发html文件</p>
<ul>
<li><p>对于有缓存的用户不会造成影响。</p>
</li>
<li><p>但是对于无缓存的用户，拿取数据时，会拿取到最新的js、css等文件，那么最直观的影响可能是页面样式问题。但当html发布成功后，页面会恢复正常</p>
</li>
</ul>
</li>
<li><p>对于异步加载的情况</p>
<ul>
<li><p>代码发布后，用户在使用过程中，进入了一个新路由</p>
</li>
<li><p>在新路由页面，获取的是最新的代码文件，但是在进入之前，获取的是老代码文件，那么这里就会导致新老代码文件交替，容易出现问题</p>
</li>
</ul>
</li>
</ul>
<p>因此，采用文件名+hash的方式，无论是先发html还是js、css文件，由于是直接通过文件名去获取的，那么就不会产生上述问题。</p>
<ul>
<li><p>先发js、css等文件</p>
<ul>
<li>由于文件名不同，由于文件名已经不一样了，所以不会覆盖掉之前存在的资源文件，客户端依旧可以安全的访问。</li>
</ul>
</li>
<li><p>再发html文件</p>
<ul>
<li>因为js、css等文件已经发布完毕了，那么当html更新了之后，再获取的js、css等文件就已经是最新的了</li>
</ul>
</li>
</ul>
<h2 id="参链"><a href="#参链" class="headerlink" title="参链"></a>参链</h2><p><a target="_blank" rel="noopener" href="https://github.com/fouber/blog/issues/6">大公司里怎样开发和部署前端代码</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2025/08/14/HTTP/%E3%80%90%E5%89%8D%E7%AB%AF%E7%BC%93%E5%AD%98%E3%80%91%E9%9A%8F%E6%9C%BA%E6%95%B0%E4%BD%8D%E7%BD%AE%E5%8C%BA%E5%88%AB/" data-id="cmf67fxd1000obcfm25cgejhd" data-title="【前端缓存】随机数位置区别" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-HTTP/小点" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2025/08/14/HTTP/%E5%B0%8F%E7%82%B9/" class="article-date">
  <time class="dt-published" datetime="2025-08-14T03:18:06.271Z" itemprop="datePublished">2025-08-14</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/http/">http</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2025/08/14/HTTP/%E5%B0%8F%E7%82%B9/">小点</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h3 id="状态码"><a href="#状态码" class="headerlink" title="状态码"></a>状态码</h3><ul>
<li>1xx：信息<ul>
<li>100: 继续请求，初始请求已经接收，客户端继续发送剩余部分</li>
<li>101：切换协议，要求服务器切换协议，服务端已确认切换</li>
</ul>
</li>
<li>2xx：成功<ul>
<li>201：服务器创建了新的资源</li>
<li>202：服务器已接受请求，但未完成处理</li>
<li>203：服务器成功处理，但返回的信息可能来自另一个来源</li>
<li>204：服务器成功处理，但无返回内容</li>
<li>205： 用户终端应该重置文档</li>
<li>206：处理了部分get请求</li>
</ul>
</li>
<li>3xx：重定向<ul>
<li>301： 请求页面<strong>永久</strong>跳转到新的url</li>
<li>302：服务器目前从不同位置的网页响应，但请求仍然继续使用原有位置来进行以后处理，即<strong>临时</strong>移动。请求方法可能会改变，比如post改为get</li>
<li>304：自从上次请求后，请求网页未修改过</li>
<li>305：请求者只能使用代理访问</li>
<li>307：服务器目前从不同位置的网页响应，但请求仍然继续使用原有位置来进行以后处理，即<strong>临时</strong>移动。请求方法不需要改变</li>
</ul>
</li>
<li>4xx：客户端错误<ul>
<li>400：请求错误，服务端不理解请求语法</li>
<li>401：未授权</li>
<li>403：服务器拒绝请求</li>
<li>404：未找到</li>
<li>405：禁用请求的方法</li>
<li>406：无法使用请求的内容特性响应请求的页面</li>
<li>407：请求需要代理的身份验证</li>
<li>408：请求超时</li>
<li>409：请求的网页冲突，服务器无法完成请求</li>
<li>410：已删除</li>
<li>411：服务器无法处理请求，因为请求缺少一个或多个必要请求头字段</li>
<li>412：服务器未满足请求者的前提条件</li>
<li>413：请求实体过大</li>
<li>414：请求的URI过长</li>
<li>415：服务器不支持请求的格式</li>
<li>416：请求范围不符合要求</li>
<li>417：服务器无法满足表头字段要求</li>
</ul>
</li>
<li>5xx：服务端错误<ul>
<li>500：服务器内部错误</li>
<li>501：服务器不具备完全请求的功能</li>
<li>502：网关错误，服务器作为网关或代理出现错误</li>
<li>503：服务器当前无法使用</li>
<li>504：网关超时，服务器作为网关或代理出现超时</li>
<li>505：服务器不支持请求的http版本</li>
</ul>
</li>
</ul>
<h3 id="http请求方式"><a href="#http请求方式" class="headerlink" title="http请求方式"></a>http请求方式</h3><ul>
<li><p>ajax,axios</p>
</li>
<li><p>EventSource: SSE技术(服务端推送)</p>
</li>
<li><p>WebSocket</p>
</li>
<li><p>navigator.sendBeacon: 异步数据上报api,用于做数据采集,浏览器会在何时的时间进行数据上报.</p>
<ul>
<li>navigator.sendBeacon只能进行发送，无法接收到服务端返回的数据</li>
<li>在页面卸载时也不会中断此次请求</li>
<li><a target="_blank" rel="noopener" href="https://cloud.tencent.com/developer/article/1956250">[译] 用 sendBeacon 发送分析信息的优点</a></li>
<li><a target="_blank" rel="noopener" href="https://juejin.cn/post/7449402571187683343">Navigator.sendBeacon：前端数据发送的得力助手</a></li>
</ul>
</li>
<li><p>SSE(服务器向浏览器发送数据)</p>
<p>  浏览器通过<code>EventSource</code>的api去监听服务器是否有推送消息给客户端</p>
</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2025/08/14/HTTP/%E5%B0%8F%E7%82%B9/" data-id="cmf67fxd4000ubcfm4xuh9ryt" data-title="小点" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-HTML/小点" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2025/08/14/HTML/%E5%B0%8F%E7%82%B9/" class="article-date">
  <time class="dt-published" datetime="2025-08-14T03:18:06.249Z" itemprop="datePublished">2025-08-14</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/HTML/">HTML</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2025/08/14/HTML/%E5%B0%8F%E7%82%B9/">【HTML】记录小点</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h3 id="如何区分H5、HTML、XHTML"><a href="#如何区分H5、HTML、XHTML" class="headerlink" title="如何区分H5、HTML、XHTML"></a>如何区分H5、HTML、XHTML</h3><p>基本概念：</p>
<ul>
<li><p>H5：是html、xhtml和html dom的新标准，h5最先是由web’超文本应用技术工作组命名的一种超文本标记语言，随后与w3c的xhtml2.0结合，产生了现在的h5。可以理解为h5&#x3D;html+css3+HTML+JS+API</p>
</li>
<li><p>HTML：超文本标记语言，是一种基本的web网页设计语言</p>
</li>
<li><p>XHTML：可扩展的文本标记语言，是一种置标语言，表现方式和HTML类似，不过语法更加严格。本质上讲，XHTML是一个过度技术，结合了XML的强大功能及大多数HTML的简单特性</p>
</li>
</ul>
<p>特性区别</p>
<ul>
<li><p>H5：</p>
<ul>
<li>用于绘画的canvas</li>
<li>用于媒介的video和audio元素</li>
<li>对本地离线储存有更好的支持</li>
<li>新的特殊内容元素：article、aside、footer、header、hgroup、nav、section</li>
<li>新的表单控件：calendar、date、time、email、url、search</li>
<li>语义化标签，例如header、h1、footer等，有利于SEO</li>
</ul>
</li>
<li><p>HTML</p>
<ul>
<li>标识文本，例如定义标题文本、段落文本、列表文本等</li>
<li>建立超链接，便于页面链接的跳转</li>
<li>创建列表，把信息有序地组织在一起以方便预览</li>
<li>在网页中显示图像、声音、视频、动画等多媒体信息</li>
<li>可以制作表格、表单</li>
<li>无语义化标签</li>
</ul>
</li>
<li><p>XHTML：</p>
<ul>
<li>要求正确嵌套</li>
<li>所有元素必须关闭</li>
<li>区分大小写</li>
<li>属性要用双引号</li>
<li>用id属性替代name</li>
<li>特殊字符处理</li>
<li>处理各大浏览器的兼容问题</li>
</ul>
</li>
</ul>
<h3 id="W3C"><a href="#W3C" class="headerlink" title="W3C"></a>W3C</h3><ul>
<li>W3C标准规范要求：书写标签必须闭合、标签小写、不乱嵌套，可以提高机器人对网页的搜索概率</li>
<li>建议使用CSS和JS脚本，从而达到结构与行为、结构与表现的分离，提高页面渲染速度，可以更快显示页面内容</li>
<li>不需要变动页面内容，可以提供打印版本而不需要复制内容，提高网站易用性。</li>
<li>标签样式分离，合理语义化标签，使内容能被更多用户访问和更广泛的设备访问，使用更少的代码和组件，从而降低维护成本，且改版容易</li>
</ul>
<h3 id="HTML的DOCTYPE作用"><a href="#HTML的DOCTYPE作用" class="headerlink" title="HTML的DOCTYPE作用"></a>HTML的DOCTYPE作用</h3><ul>
<li><p>定义</p>
<p>  是Document Type的简写，不是HTML标签，也没有结束标签，只用于告诉浏览器当前HTML是用什么版本编写的，是一种标记语言的文档类型声明</p>
<p>  必须在html第一行，在html标签前面，其会影响代码验证，并决定了浏览器应该如何显示用户的web文档</p>
</li>
<li><p>作用</p>
<p>  用于声明文档类型，浏览器通过这个可以了解预期的文档类型，这样可以知道用哪一种规范（DTD）解析文档（html或xhtml）</p>
</li>
</ul>
<h3 id="HTML的DOCTYPE的种类"><a href="#HTML的DOCTYPE的种类" class="headerlink" title="HTML的DOCTYPE的种类"></a>HTML的DOCTYPE的种类</h3><ul>
<li><p>严格版本Strict、过渡版本Transitional和基于框架Frameset</p>
</li>
<li><p>严格版本&#x2F;标准模式：呈现遵循最新标准的网页</p>
</li>
<li><p>松散&#x2F;兼容&#x2F;包容模式：为传统浏览器设计的网页</p>
</li>
</ul>
<h3 id="Quirks是什么，与标准模式区别"><a href="#Quirks是什么，与标准模式区别" class="headerlink" title="Quirks是什么，与标准模式区别"></a>Quirks是什么，与标准模式区别</h3><ul>
<li><p>Quirks&#x2F;包容模式</p>
<p>  IE6之前的页面不会写DTD，所以ie6假定了如果写了DTD，那么就意味着这个页面采用对css支持更好的布局，如果没有，就采用兼容之前的布局方式，这就是quirks模式</p>
</li>
<li><p>区别</p>
<ul>
<li><p>盒模型</p>
<p>  标准模式：宽度&#x3D;width</p>
<p>  quirks模式：宽度&#x3D;padding+width+border</p>
</li>
<li><p>设置百分比的高度：</p>
<p>  标准模式：元素高度是由内容来决定的。如果父元素没有设置高度，那么子元素设置的高度百分比是无效的</p>
</li>
<li><p>设置行内元素高度</p>
<p>  标准模式：行内元素高度设置是无效的</p>
<p>  quirks模式：行内元素可以设置高度</p>
</li>
<li><p>设置水平居中</p>
<p>  标准模式：margin&#x3D;auto是有效的</p>
<p>  quirks模式：auto是无效的</p>
</li>
</ul>
</li>
</ul>
<h3 id="h5新特性"><a href="#h5新特性" class="headerlink" title="h5新特性"></a>h5新特性</h3><ul>
<li>离线缓存：关闭浏览器后再次打开时恢复数据，减少网络流量</li>
<li>音视频、调用摄像头、手机相册、通讯录等</li>
<li>地理定位</li>
<li>canvas绘图</li>
<li>拖拽、撤销历史、文本选择等</li>
<li>开发和维护成本低于app，页面内存占用小，减少用户不必要支出</li>
<li>css3支持字体嵌入、版面排版</li>
<li>figure: 规定独立的流内容(图片,代码等),figure的内容应该与主内容相关,同时元素位置相对于主内容是独立的,如果被删除不会造成影响</li>
</ul>
<h3 id="元素alt和title"><a href="#元素alt和title" class="headerlink" title="元素alt和title"></a>元素alt和title</h3><ul>
<li>相同处：都属于提示类文案</li>
<li>不同<ul>
<li>alt在图片中，加载失败时显示alt，而title是会出现一个小浮窗</li>
<li>alt是img必要属性，只能用在img、area和input元素中，title不是img必要属性，任何元素都可以使用</li>
<li>alt只能是元素属性，title可以作为属性，也可以作为标签&lt;title&gt;使用</li>
<li>a标签嵌套img标签时，起作用的是img的title属性</li>
<li>无障碍：alt可以触发阅读器，title不行</li>
<li>SEO：alt可以作为图片的SEO优化，title对于元素的SEO优化较小</li>
</ul>
</li>
</ul>
<h3 id="background-image和img设置图片有什么区别"><a href="#background-image和img设置图片有什么区别" class="headerlink" title="background-image和img设置图片有什么区别"></a>background-image和img设置图片有什么区别</h3><p>相同点：</p>
<ul>
<li>都可以显示图片</li>
<li>可以设置图片大小</li>
</ul>
<p>不同点: </p>
<ul>
<li>background-image是css属性，img是html标签</li>
<li>background-image设置宽高需要配合background-position、background-size等属性，img标签与width、height配合</li>
<li>img可以设置alt属性，用于优化seo和图片加载失败的描述，background-image不行</li>
<li>img可以使用srcset属性用于响应式图片（srcset&#x3D;”image-1x.jpg 1x, image-2x.jpg 2x” ）</li>
<li>img是作为独立元素，影响文档流；background-image是作为背景图，不影响文档流</li>
<li>加载时机:<ul>
<li>img：html渲染到img标签时就会进行图片加载</li>
<li>background-image：<ul>
<li>内联（style&#x3D;”background-image:url(image.jpg)”: 和img标签类似，解析到则进行加载</li>
<li>外部css：css文件下载并解析后执行</li>
<li>当页面内容加载过多时，可能会降低background-image的加载优先级，因此会被认为是装饰性图片</li>
</ul>
</li>
</ul>
</li>
<li>懒加载<ul>
<li>img：loading&#x3D;”lazy”，chrome76+，firefox75+</li>
<li>background-image：只能通过js或css实现</li>
</ul>
</li>
<li>大图时导致页面延迟渲染<ul>
<li>img：<ul>
<li>在解析html时，若未加上loading&#x3D;”lazy”，那么就会立马进行图片加载，这个时候会占用带宽，因此会导致关键资源加载延迟</li>
<li>未设置宽高时，由于图片加载后，会导致其余元素位置变化，而触发回流</li>
</ul>
</li>
<li>background-image：<ul>
<li>对图片的加载是在css解析过程中进行的</li>
<li>背景图的加载一般会触发重绘，通常不会导致回流（除非元素尺寸依赖于背景图</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>优缺点：</p>
<ul>
<li><p>img：</p>
<ul>
<li>优点：<ul>
<li>语义化</li>
<li>利于seo和无障碍优化</li>
<li>响应式：loading&#x3D;”lazy”（有兼容性</li>
<li>打印支持：在打印时显示图片</li>
</ul>
</li>
<li>缺点<ul>
<li>影响其他元素</li>
<li>图片较大会影响页面渲染，图片过多会增加http请求</li>
</ul>
</li>
<li>场景<ul>
<li>内容性图片：如文章配图、产品展示图、用户头像等。</li>
<li>需要 SEO 优化的图片：如商品图片、图表等。</li>
<li>需要可访问性支持的图片：如信息图、图表等。</li>
<li>需要打印的图片：如报告、文档中的插图。</li>
</ul>
</li>
</ul>
</li>
<li><p>background-image：</p>
<ul>
<li>优点：<ul>
<li>利用雪碧图可以减少http请求</li>
<li>不占用文档流</li>
<li>图片加载失败不会影响页面结构</li>
</ul>
</li>
<li>缺点：<ul>
<li>不利于seo和无障碍</li>
<li>默认不打印背景图片</li>
<li>响应式：需要手动写</li>
</ul>
</li>
<li>场景：<ul>
<li>装饰性图片：如按钮图标、背景纹理、边框装饰等。</li>
<li>CSS 雪碧图：合并多个小图标减少请求。</li>
<li>全屏背景或遮罩：如页面背景图、模态框遮罩层。</li>
<li>动态效果控制：通过 CSS 动画或过渡实现背景图变化。</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="乱码原因"><a href="#乱码原因" class="headerlink" title="乱码原因"></a>乱码原因</h3><ul>
<li>不同编码内容混杂：html乱码是由html编码问题造成的</li>
<li>未设置html编码，设置meta头text&#x2F;html;charset&#x3D;utf-8</li>
<li>编辑工具的编码问题，例如使用记事本直接写html可能会造成乱码</li>
<li>浏览器不能自动检测网页编码，造成网页乱码</li>
</ul>
<h3 id="js放在html不同位置有什么区别"><a href="#js放在html不同位置有什么区别" class="headerlink" title="js放在html不同位置有什么区别"></a>js放在html不同位置有什么区别</h3><ul>
<li>如果使用<code>window.</code>，将js放在里面，则在哪儿都一样，因为都是需要等body之后再加载</li>
<li>如果不使用<code>window.</code>，放在head中，代码不会执行。因为html执行顺序不同，html从开始运行到进入index.js文件，其中被function包围起来的代码不会被运行，直接执行最后一句代码。如果html页面没有加载完，找不到元素会报错</li>
</ul>
<h3 id="什么是列表及列表分类"><a href="#什么是列表及列表分类" class="headerlink" title="什么是列表及列表分类"></a>什么是列表及列表分类</h3><p>列表定义：</p>
<ul>
<li>是一种信息资源的展示方式</li>
<li>可以使得信息结构化和条理化，并以列表的样式显示出来，便于阅读者快速方便的获取信息</li>
<li>ul、ol、dl不能嵌套其他标签，但是li可以</li>
</ul>
<p>列表分类</p>
<ul>
<li>ol：有序列表<ul>
<li>有顺序，每个li独占一行</li>
<li>一般用于排序类型的列表</li>
<li>默认li标签前面有顺序标记</li>
</ul>
</li>
<li>ul：无序列表<ul>
<li>无顺序，每个li独占一行</li>
<li>一般用于无序类型的列表，例如导航栏等</li>
<li>默认li标签前面有·标记</li>
</ul>
</li>
<li>dl：自定义列表<ul>
<li>无顺序，dt、dd标签独占一行</li>
<li>一般用于一个标题下有一个或多个列表项</li>
<li>默认无标记</li>
</ul>
</li>
</ul>
<h3 id="常见表单元素"><a href="#常见表单元素" class="headerlink" title="常见表单元素"></a>常见表单元素</h3><ul>
<li><p>input</p>
<p>  type类型包括：password、text、image、hidden、file</p>
</li>
<li><p>textarea</p>
<p>  可设置行列数</p>
</li>
<li><p>button</p>
</li>
<li><p>select</p>
<p>  option、label</p>
</li>
<li><p>radio</p>
</li>
<li><p>checkbox</p>
</li>
</ul>
<h3 id="表单提交方式"><a href="#表单提交方式" class="headerlink" title="表单提交方式"></a>表单提交方式</h3><ul>
<li><p>submit提交</p>
<p>  在form表单加上action属性，且input加上type&#x3D;submit</p>
</li>
<li><p>axios提交</p>
</li>
</ul>
<h3 id="为什么使用h5标签布局网页"><a href="#为什么使用h5标签布局网页" class="headerlink" title="为什么使用h5标签布局网页"></a>为什么使用h5标签布局网页</h3><p>对h5来说，网页结构与使用更加语义化，利于seo</p>
<p>section和article标签相似，且和nav也类似</p>
<p>nav：非常常见的标签，本身无任何语义，用作布局及样式话标签</p>
<p>section：用作一段有专题性的内容，一般在这个标签里面会带有标题。典型场景包括文章章节、标签对话框的标签页或论文中有编号的部分</p>
<p>article：特殊的section标签，代表一个独立完整的相关内容块</p>
<h3 id="如何达到表单的初步验证"><a href="#如何达到表单的初步验证" class="headerlink" title="如何达到表单的初步验证"></a>如何达到表单的初步验证</h3><p>验证属性</p>
<ul>
<li><code>required</code>：必填<ul>
<li><code>valueMissing</code>: 判断当前元素是否为空，配合<code>required</code>使用</li>
</ul>
</li>
<li><code>pattern</code>：正则验证当前元素值是否匹配<ul>
<li><code>patternMismatch</code>: 判断当前元素是否符合正则，配合<code>pattern</code>使用</li>
</ul>
</li>
<li><code>max</code>和<code>min</code>：验证当前元素最大或最小值，一般用于染个&#x2F;number类型的元素<ul>
<li>rangeUnderflow：判断当前元素值是否小于min属性值，配合min属性使用</li>
</ul>
</li>
<li><code>minlength</code>和<code>maxlength</code>：验证内容最大长度和最小长度<ul>
<li><code>tooLong</code>: 判断当前元素长度是否符合，配合<code>maxlength</code>使用</li>
</ul>
</li>
<li><code>validity</code>：h5表单提供的一种有效状态，有效状态通过<code>validityState</code>获取，<code>validityState</code>通过<code>validity</code>获取</li>
</ul>
<p>验证状态</p>
<ul>
<li><code>typeMismatch</code>: 判断当前元素值的类型是否匹配，配合email&#x2F;number&#x2F;url使用</li>
<li><code>stepMismatch</code>: 判断当前元素是否与step设置相同，配合step使用，并不与min、max属性值比较</li>
<li><code>valid</code>: 判断当前元素是否正确，返回true标识验证成功</li>
<li><code>customError</code>: 配合<code>setCustomValidity()</code>方法使用</li>
<li>setCustomValidity(message)：设置自定义错误信息，一旦使用该方法修改默认错误提示后，即使输入正确也会有提示</li>
</ul>
<h3 id="iframe优缺点"><a href="#iframe优缺点" class="headerlink" title="iframe优缺点"></a>iframe优缺点</h3><p>优点:</p>
<ul>
<li>解决加载缓慢的第三方内容</li>
<li>iframe跨域通信(postMessage)</li>
<li>iframe无刷新文件上传</li>
</ul>
<p>缺点</p>
<ul>
<li>阻塞主页面的onLoad事件</li>
<li>不利于seo</li>
<li>页面产生多,不利于管理</li>
<li>增加服务器请求</li>
<li>可能会导致资源无法共用<ul>
<li>同源+缓存策略(未过期&#x2F;不需要重新请求)会从缓存中读取</li>
<li>同源 + 缓存过期但有 ETag	⚠️ 发送条件请求（可能返回 304）</li>
<li>跨域 + 无 CORS 缓存策略	✅ 重新请求</li>
<li>请求头或方法不同	✅ 重新请求</li>
</ul>
</li>
</ul>
<h3 id="页面性能优化"><a href="#页面性能优化" class="headerlink" title="页面性能优化"></a>页面性能优化</h3><ul>
<li>内容方面<ul>
<li>减少http请求</li>
<li>使用http2&#x2F;3</li>
<li>减少dom元素数量</li>
<li>请求缓存</li>
<li>使用多域名负载网页内的多个文件,图片</li>
<li>使用gzip压缩</li>
</ul>
</li>
<li>css<ul>
<li>css放到页面上端</li>
<li>把js和css分离开</li>
<li>精简js和css</li>
<li>避免css表达式</li>
</ul>
</li>
<li>js<ul>
<li>tree shanking</li>
<li>放到页面底部</li>
<li>减少重复代码</li>
</ul>
</li>
<li>图片<ul>
<li>优化图片</li>
<li>不缩放图片</li>
<li>使用恰当的图片格式(webp更好)</li>
<li>css雪碧图优化</li>
</ul>
</li>
</ul>
<h3 id="图片懒加载和预加载"><a href="#图片懒加载和预加载" class="headerlink" title="图片懒加载和预加载"></a>图片懒加载和预加载</h3><p>懒加载: 滚动到了图片的位置,才进行加载.</p>
<p>减少不必要的访问数据库或延迟访问数据的次数,减少服务器端的压力</p>
<p>预加载: 在还没到图片位置的时候,就开始加载图片</p>
<p>在网页全部加载之前加载图片,那么当用户查看时,可以之间从缓存中渲染图片,减少等待时间</p>
<p>当图片过大时,可能会导致页面白屏时间加长</p>
<h3 id="a标签作用"><a href="#a标签作用" class="headerlink" title="a标签作用"></a>a标签作用</h3><ul>
<li><p>外部页面连接</p>
</li>
<li><p>本地页面链接</p>
<p>  href指向相对路径,就可以打开当前目录下对应的文件</p>
</li>
<li><p>锚点链接</p>
</li>
<li><p>其他</p>
<ul>
<li>打开email: <code>&lt;a href=&#39;mailto:邮件接收人&#39;&gt;&lt;/a&gt;</code></li>
<li>短链,打开小程序,qq等</li>
<li>打电话: <code>&lt;a href=&#39;tel: 180xxx&#39;&gt;&lt;/a&gt;</code></li>
</ul>
</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2025/08/14/HTML/%E5%B0%8F%E7%82%B9/" data-id="cmf67fxcz000gbcfmb1bf01s0" data-title="【HTML】记录小点" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-HTML/【HTML】记录" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2025/08/14/HTML/%E3%80%90HTML%E3%80%91%E8%AE%B0%E5%BD%95/" class="article-date">
  <time class="dt-published" datetime="2025-08-14T03:18:06.247Z" itemprop="datePublished">2025-08-14</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/HTML/">HTML</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2025/08/14/HTML/%E3%80%90HTML%E3%80%91%E8%AE%B0%E5%BD%95/">【HTML】记录</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h3 id="input-type-file的cancel事件"><a href="#input-type-file的cancel事件" class="headerlink" title="input type&#x3D;file的cancel事件"></a>input type&#x3D;file的cancel事件</h3><p>mdn并未写明当前的<code>input</code>标签支持cancel事件</p>
<h4 id="触发条件"><a href="#触发条件" class="headerlink" title="触发条件"></a>触发条件</h4><p>在pc端中，点击上传的输入框，然后在弹出的文件选择器中点击取消按钮，即可触发当前这个事件</p>
<h4 id="表现"><a href="#表现" class="headerlink" title="表现"></a>表现</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 子组件 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;file&quot;</span> <span class="attr">id</span>=<span class="string">&quot;ipt1&quot;</span> @<span class="attr">cancel</span>=<span class="string">&quot;cancle2&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;上传123&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">input</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 父组件 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">childComp</span> @<span class="attr">cancel</span>=<span class="string">&quot;cancle1&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">childComp</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>在vue3项目中，会触发子组件的<code>cancle2</code>事件</p>
<p>若在子组件中没有<code>cancle2</code>事件，那么这个事件会冒泡到父组件中，执行<code>cancle1</code>事件。因此若父组件有监听子组件的cancel事件，那么在这个情况下会直接执行，可能会导致触发其他问题</p>
<p>浏览器：谷歌、火狐都支持</p>
<h4 id="监听"><a href="#监听" class="headerlink" title="监听"></a>监听</h4><blockquote>
<p>vue</p>
</blockquote>
<ul>
<li>组件直接监听</li>
<li>子组件未监听，父组件监听</li>
<li>window.addEventListener(‘cancel’): 会执行两次，触发元素是window</li>
<li>document.getElementById(‘’).addEventListener(‘cancel’): 不执行</li>
</ul>
<blockquote>
<p>普通html</p>
</blockquote>
<ul>
<li>window.addEventListener(‘cancel’): 只执行一次，触发元素是window</li>
<li>document.getElementById(‘’).addEventListener(‘cancel’): 只执行一次，触发元素是对应的元素</li>
</ul>
<p>技术栈：vue3+ts+pinia+vite+vantui<br>项目介绍：PC+H5，支持多种资料类型上传，可配置资料留资，悬浮码等功能，增加内容分发等功能，企业微信侧边栏可快速发送</p>
<p>● 负责核心复杂功能模块的设计与实现<br>1、资料上传：支持pdf、图片、公众号等5种资料类型上传，可配置资料留资，悬浮码等功能，增加内容分发等功能，企业微信侧边栏可快速发送</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2025/08/14/HTML/%E3%80%90HTML%E3%80%91%E8%AE%B0%E5%BD%95/" data-id="cmf67fxcy000fbcfm7bwg7l5d" data-title="【HTML】记录" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/HTML/" rel="tag">HTML</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-HTML/【HTML】templates and slots" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2025/08/14/HTML/%E3%80%90HTML%E3%80%91templates%20and%20slots/" class="article-date">
  <time class="dt-published" datetime="2025-08-14T03:18:06.246Z" itemprop="datePublished">2025-08-14</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/HTML/">HTML</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2025/08/14/HTML/%E3%80%90HTML%E3%80%91templates%20and%20slots/">【HTML】templates and slots</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="【HTML】templates-and-slots"><a href="#【HTML】templates-and-slots" class="headerlink" title="【HTML】templates and slots"></a>【HTML】templates and slots</h1><h2 id="概况"><a href="#概况" class="headerlink" title="概况"></a><h1>概况</h1></h2><p>可以用来灵活填充 Web 组件的 shadow DOM 的模板。可以复用相同的标记结构。</p>
<h2 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h2><ul>
<li><p>编写一个 template</p>
<p>直接在页面中编写一个 template 不会直接在页面中显示出来</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">id</span>=<span class="string">&quot;test&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">    <span class="selector-tag">p</span> &#123;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">color</span>: white;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">background-color</span>: <span class="number">#666</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">padding</span>: <span class="number">5px</span>;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">  </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>测试template<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>注册自定义模板</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">customElements.<span class="title function_">define</span>(</span><br><span class="line">  <span class="string">&quot;test-template&quot;</span>,</span><br><span class="line">  <span class="keyword">class</span> <span class="title class_">extends</span> <span class="title class_">HTMLElement</span> &#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="variable language_">super</span>();</span><br><span class="line">      <span class="keyword">let</span> template = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;test&quot;</span>);</span><br><span class="line">      <span class="keyword">let</span> templateContent = template.<span class="property">content</span>;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">const</span> shadowRoot = <span class="variable language_">this</span>.<span class="title function_">attachShadow</span>(&#123; <span class="attr">mode</span>: <span class="string">&quot;open&quot;</span> &#125;);</span><br><span class="line">      shadowRoot.<span class="title function_">appendChild</span>(templateContent.<span class="title function_">cloneNode</span>(<span class="literal">true</span>));</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
</li>
<li><p>组件显示</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">test-template</span> /&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>页面显示</p>
<p><a target="_blank" rel="noopener" href="https://imgse.com/i/pC4aUiV"><img src="https://s1.ax1x.com/2023/07/14/pC4aUiV.png" alt="pC4aUiV.png"></a></p>
<p>template 的元素的样式也是独立的，并不会因为父级定义的同一个样式而影响内部。</p>
<p>虽然 template 和使用在同一个页面，但是如果直接在 Elements 面板里面修改 template 的内容，<strong>不会</strong>影响到渲染的地方。</p>
<p><a target="_blank" rel="noopener" href="https://imgse.com/i/pC4aWRO"><img src="https://s1.ax1x.com/2023/07/14/pC4aWRO.png" alt="pC4aWRO.png"></a></p>
</li>
<li><p>添加 slot</p>
<p>添加的slot的样式只收到父级的影响，并不会受到template中定义的样式影响</p>
<p>如果是template中并没有定义对于的slot，那么传入的slot并不会被渲染</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">id</span>=<span class="string">&quot;test&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">    <span class="selector-tag">p</span> &#123;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">color</span>: white;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">background-color</span>: <span class="number">#666</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">padding</span>: <span class="number">5px</span>;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">  </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">slot</span>&gt;</span><span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">slot</span> <span class="attr">name</span>=<span class="string">&quot;text1&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>测试template<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">test-template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>默认slot的内容<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">slot</span>=<span class="string">&quot;text1&quot;</span>&gt;</span>具名插槽的内容<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">test-template</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://imgse.com/i/pC4azLj"><img src="https://s1.ax1x.com/2023/07/14/pC4azLj.png" alt="pC4azLj.png"></a></p>
<ul>
<li>获取slot名</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> el = <span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(<span class="string">&#x27;test-template p&#x27;</span>)</span><br><span class="line">  el.<span class="title function_">forEach</span>(<span class="function"><span class="params">ele</span>=&gt;</span>&#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(ele.<span class="property">slot</span>)</span><br><span class="line">  &#125;)</span><br><span class="line"><span class="comment">//  输出：&quot;&quot;, &quot;text1&quot;, &quot;text2&quot;</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="参链"><a href="#参链" class="headerlink" title="参链"></a>参链</h2><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/API/Web_components/Using_templates_and_slots#%E4%BD%BF%E7%94%A8%E6%A7%BD_slots_%E6%B7%BB%E5%8A%A0%E7%81%B5%E6%B4%BB%E5%BA%A6">使用 templates and slots</a></p>
<p><a target="_blank" rel="noopener" href="https://cloud.tencent.com/developer/article/1009633?areaSource=106001.5">shadow dom解析</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2025/08/14/HTML/%E3%80%90HTML%E3%80%91templates%20and%20slots/" data-id="cmf67fxcx000abcfmfk9b4bkx" data-title="【HTML】templates and slots" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-HTML/【HTML】Shadow DOM" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2025/08/14/HTML/%E3%80%90HTML%E3%80%91Shadow%20DOM/" class="article-date">
  <time class="dt-published" datetime="2025-08-14T03:18:06.245Z" itemprop="datePublished">2025-08-14</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/HTML/">HTML</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2025/08/14/HTML/%E3%80%90HTML%E3%80%91Shadow%20DOM/">【HTML】Shadow DOM</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="【HTML】Shadow-DOM"><a href="#【HTML】Shadow-DOM" class="headerlink" title="【HTML】Shadow DOM"></a>【HTML】Shadow DOM</h1><h2 id="概况"><a href="#概况" class="headerlink" title="概况"></a><h1>概况</h1></h2><h3 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h3><p>能够为 Web 组件中的 DOM 和 CSS 提供了封装，实际上是在浏览器渲染文档的时候会给指定的 DOM 结构插入编写好的 DOM 元素，但是插入的 Shadow DOM 会与主文档的 DOM 保持<strong>分离</strong>，也就是说 Shadow DOM<strong>不存在</strong>于主 DOM 树上。shadow root 节点为起始根节点，在这个根节点的下方，可以是任意元素，和普通的 DOM 元素一样。</p>
<p>并且 Shadow DOM 封装出来的 DOM 元素是<strong>独立</strong>的，外部的配置不会影响到内部，内部的配置也不会影响外部。</p>
<p><a target="_blank" rel="noopener" href="https://imgse.com/i/pCfsSyD"><img src="https://s1.ax1x.com/2023/07/12/pCfsSyD.png" alt="pCfsSyD.png"></a></p>
<h3 id="查看"><a href="#查看" class="headerlink" title="查看"></a>查看</h3><p>控制台-》设置按钮-》Preference -》 Elements -》点击 show user anent shadow dom 的 checkbox</p>
<p><a target="_blank" rel="noopener" href="https://imgse.com/i/pCfrOF1"><img src="https://s1.ax1x.com/2023/07/12/pCfrOF1.png" alt="pCfrOF1.png"></a></p>
<p>打开之后可以看到一些元素的真实布局及内容组成。</p>
<h3 id="结构"><a href="#结构" class="headerlink" title="结构"></a>结构</h3><p><img src="https://developer.mozilla.org/en-US/docs/Web/API/Web_components/Using_shadow_DOM/shadowdom.svg" alt="image.png"></p>
<ul>
<li><p><code>Shadow host</code>：一个常规 DOM 节点，Shadow DOM 会被附加到这个节点上。</p>
</li>
<li><p><code>Shadow tree</code>：Shadow DOM 内部的 DOM 树。</p>
</li>
<li><p><code>Shadow boundary</code>：Shadow DOM 结束的地方，也是常规 DOM 开始的地方。</p>
</li>
<li><p><code>Shadow root</code>: Shadow tree 的根节点。</p>
</li>
</ul>
<h2 id="custom-element-自定义标签"><a href="#custom-element-自定义标签" class="headerlink" title="custom element(自定义标签)"></a><h1>custom element(自定义标签)</h1></h2><h3 id="概况-1"><a href="#概况-1" class="headerlink" title="概况"></a>概况</h3><p>可以注册一个自定义标签，<code>CustomElementRegistry</code>提供注册自定义元素和查询已注册元素的方法，使用<code>customElements</code>可以直接获取其实例。</p>
<h3 id="方法"><a href="#方法" class="headerlink" title="方法"></a>方法</h3><table>
<thead>
<tr>
<th>方法名</th>
<th>作用</th>
<th>参数</th>
<th>返回值</th>
</tr>
</thead>
<tbody><tr>
<td><code>customElements.define</code></td>
<td>定义了一个自定义元素</td>
<td><code>name</code>: 自定义元素名; <code>constructor</code>: 自定义元素构造器; <code>options</code>: 控制元素如何定义(目前只支持extends)</td>
<td>-</td>
</tr>
<tr>
<td><code>customElements.get</code></td>
<td>返回以前定义自定义元素的构造函数</td>
<td><code>name</code>: 返回引用的构造函数的自定义元素的名字</td>
<td>指定名字的自定义元素的构造函数，如果没有使用该名称的自定义元素定义，则为undefined。</td>
</tr>
<tr>
<td><code>customElements.upgrade</code></td>
<td>将更新节点子树中所有包含阴影的自定义元素，甚至在它们连接到主文档之前也是如此</td>
<td><code>root</code>: 待升级的包含阴影的派生元素节点</td>
<td>-</td>
</tr>
<tr>
<td><code>customElements.whenDefined</code></td>
<td>当一个自定义节点被定义时走入then，如果这个元素名没有被定义，那么返回的是一直pending状态</td>
<td><code>name</code>: 自定义元素名</td>
<td>Promise</td>
</tr>
</tbody></table>
<h3 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">customElements.<span class="title function_">define</span>(<span class="string">&quot;test-shadow-dom&quot;</span>, <span class="title class_">TestShadowCls</span>)</span><br></pre></td></tr></table></figure>

<h2 id="使用-1"><a href="#使用-1" class="headerlink" title="使用"></a><h1>使用</h1></h2><h3 id="挂载-shadow-dom"><a href="#挂载-shadow-dom" class="headerlink" title="挂载 shadow dom"></a>挂载 shadow dom</h3><p>可以调用<code>Element.attachShadow</code>将 Shadow Dom 选择挂载或者卸载。此方法返回的是一个类 dom，可以像操作普通 dom 一样对其进行操作</p>
<table>
<thead>
<tr>
<th>参数名</th>
<th>作用</th>
<th>可选值</th>
</tr>
</thead>
<tbody><tr>
<td><code>mode</code></td>
<td><code>指定 Shadow DOM 树封装模式的字符串</code></td>
<td><code>open</code>&#x2F;<code>closed</code></td>
</tr>
<tr>
<td><code>delegatesFocus </code></td>
<td><code>焦点委托</code></td>
<td><code>boolean</code></td>
</tr>
</tbody></table>
<ul>
<li><p>挂载</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> shadow = el.<span class="title function_">attachShadow</span>(&#123;</span><br><span class="line">  <span class="attr">mode</span>: <span class="string">&quot;open&quot;</span>,</span><br><span class="line">&#125;);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">dir</span>(shadow);</span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://imgse.com/i/pCfgDbD"><img src="https://s1.ax1x.com/2023/07/12/pCfgDbD.png" alt="pCfgDbD.png"></a></p>
</li>
<li><p>操作 shadow dom</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> html = <span class="string">`&lt;p&gt;测试1&lt;/p&gt;`</span>;</span><br><span class="line">shadow.<span class="property">innerHTML</span> = html;</span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://imgse.com/i/pCfRCm8"><img src="https://s1.ax1x.com/2023/07/12/pCfRCm8.png" alt="pCfRCm8.png"></a></p>
</li>
</ul>
<h3 id="自定义元素"><a href="#自定义元素" class="headerlink" title="自定义元素"></a>自定义元素</h3><p>Shadow DOM 可以渲染自定义的元素，类似于 vue3 中的组件，但里面的样式并不互相干扰。</p>
<ul>
<li><p>新建类</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">TestShadowCls</span> <span class="keyword">extends</span> <span class="title class_ inherited__">HTMLElement</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">super</span>(); <span class="comment">//必要的，因为属于子类</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>创建一个 Shadow DOM 并为其加上需要的数据</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">addShadow</span>(<span class="params"></span>)&#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">shadow</span> = <span class="variable language_">this</span>.<span class="title function_">attachShadow</span>(&#123;</span><br><span class="line">      <span class="attr">mode</span>: <span class="string">&quot;open&quot;</span></span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">createChild</span>(<span class="params"></span>)&#123;</span><br><span class="line">  <span class="keyword">const</span> el = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;div&quot;</span>);</span><br><span class="line">  <span class="keyword">const</span> pel = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;p&quot;</span>);</span><br><span class="line">  pel.<span class="property">textContent</span> = <span class="string">&quot;测试文案&quot;</span>;</span><br><span class="line">  pel.<span class="title function_">setAttribute</span>(<span class="string">&quot;class&quot;</span>, <span class="string">&quot;test&quot;</span>)</span><br><span class="line">  <span class="keyword">const</span> imgae = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;img&quot;</span>);</span><br><span class="line">  imgae.<span class="title function_">setAttribute</span>(<span class="string">&quot;src&quot;</span>, <span class="string">&quot;https://psstatic.cdn.bcebos.com/video/wiseindex/aa6eef91f8b5b1a33b454c401_1660835115000.png&quot;</span>)</span><br><span class="line">  imgae.<span class="property">src</span>=<span class="string">&quot;https://psstatic.cdn.bcebos.com/video/wiseindex/aa6eef91f8b5b1a33b454c401_1660835115000.png&quot;</span>;</span><br><span class="line">  el.<span class="title function_">appendChild</span>(pel);</span><br><span class="line">  el.<span class="title function_">appendChild</span>(imgae)</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">shadow</span>.<span class="title function_">appendChild</span>(el)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>定义自定义的元素名</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">customElements.<span class="title function_">define</span>(<span class="string">&quot;test-shadow-dom&quot;</span>, <span class="title class_">TestShadowCls</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p>使用</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">  <span class="selector-tag">p</span>&#123;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">color</span>: red;</span></span><br><span class="line"><span class="language-css">  &#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">test-shadow-dom</span> /&gt;</span></span><br></pre></td></tr></table></figure>

<p>渲染效果如下，里面的文案并没有因为<code>style</code>加上的元素样式而生效</p>
<p><a target="_blank" rel="noopener" href="https://imgse.com/i/pCfqRu4"><img src="https://s1.ax1x.com/2023/07/12/pCfqRu4.png" alt="pCfqRu4.png"></a></p>
</li>
<li><p>添加样式</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">createClass</span>(<span class="params"></span>)&#123;</span><br><span class="line">  <span class="keyword">const</span> style = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;style&quot;</span>);</span><br><span class="line">  style.<span class="property">textContent</span> = <span class="string">`</span></span><br><span class="line"><span class="string">      .test&#123;</span></span><br><span class="line"><span class="string">          color: blue;</span></span><br><span class="line"><span class="string">          font-weight: 600</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">  `</span></span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">shadow</span>.<span class="title function_">appendChild</span>(style)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>加上了之后，样式生效</p>
<p><a target="_blank" rel="noopener" href="https://imgse.com/i/pCfL98f"><img src="https://s1.ax1x.com/2023/07/12/pCfL98f.png" alt="pCfL98f.png"></a></p>
</li>
</ul>
<h2 id="参链"><a href="#参链" class="headerlink" title="参链"></a>参链</h2><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/API/Web_components/Using_shadow_DOM">使用 shadow DOM</a></p>
<p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/559759502">究竟什么是 Shadow DOM？</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2025/08/14/HTML/%E3%80%90HTML%E3%80%91Shadow%20DOM/" data-id="cmf67fxcy000cbcfmg7m72z22" data-title="【HTML】Shadow DOM" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/8/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/7/">7</a><a class="page-number" href="/page/8/">8</a><span class="page-number current">9</span><a class="page-number" href="/page/10/">10</a><a class="page-number" href="/page/11/">11</a><a class="extend next" rel="next" href="/page/10/">Next &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/HTML/">HTML</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/JS/">JS</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/PWA/">PWA</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/React-Native/">React Native</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Typescript/">Typescript</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/VueTest/">VueTest</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Web3/">Web3</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/axios-%E6%BA%90%E7%A0%81/">axios 源码</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/css/">css</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/http/">http</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/js/">js</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/react/">react</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/vue/">vue</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/vuex-%E6%BA%90%E7%A0%81/">vuex 源码</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/web3/">web3</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/webAssembly/">webAssembly</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/webpack/">webpack</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/webwork/">webwork</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E4%B8%9A%E5%8A%A1%E5%9C%BA%E6%99%AF/">业务场景</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%89%8D%E7%AB%AF/">前端</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%B0%8F%E7%A8%8B%E5%BA%8F/">小程序</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%89%A9%E5%B1%95%E9%98%85%E8%AF%BB/">扩展阅读</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%B5%8F%E8%A7%88%E5%99%A8/">浏览器</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E9%9D%A2%E8%AF%95/">面试</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E9%A2%9D%E5%A4%96%E5%86%85%E5%AE%B9/">额外内容</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTML/" rel="tag">HTML</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Typescript/" rel="tag">Typescript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/VueTest/" rel="tag">VueTest</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Web3/" rel="tag">Web3</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/axios-%E6%BA%90%E7%A0%81/" rel="tag">axios 源码</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/chrome/" rel="tag">chrome</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/console/" rel="tag">console</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/css/" rel="tag">css</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/http/" rel="tag">http</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/js/" rel="tag">js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/react/" rel="tag">react</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vue/" rel="tag">vue</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vuex-%E6%BA%90%E7%A0%81/" rel="tag">vuex 源码</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/web3/" rel="tag">web3</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/webAssembly/" rel="tag">webAssembly</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/webRTC/" rel="tag">webRTC</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/webpack/" rel="tag">webpack</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/webwork/" rel="tag">webwork</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%B8%9A%E5%8A%A1%E5%9C%BA%E6%99%AF/" rel="tag">业务场景</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%89%8D%E7%AB%AF/" rel="tag">前端</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%B0%8F%E7%A8%8B%E5%BA%8F/" rel="tag">小程序</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%89%A9%E5%B1%95%E9%98%85%E8%AF%BB/" rel="tag">扩展阅读</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%B5%8F%E8%A7%88%E5%99%A8/" rel="tag">浏览器</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%B5%8F%E8%A7%88%E5%99%A8-Performance-Chrome/" rel="tag">浏览器 Performance Chrome</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%9D%A2%E8%AF%95/" rel="tag">面试</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%A2%9D%E5%A4%96%E5%86%85%E5%AE%B9/" rel="tag">额外内容</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/HTML/" style="font-size: 10px;">HTML</a> <a href="/tags/Typescript/" style="font-size: 12px;">Typescript</a> <a href="/tags/VueTest/" style="font-size: 10px;">VueTest</a> <a href="/tags/Web3/" style="font-size: 20px;">Web3</a> <a href="/tags/axios-%E6%BA%90%E7%A0%81/" style="font-size: 14px;">axios 源码</a> <a href="/tags/chrome/" style="font-size: 10px;">chrome</a> <a href="/tags/console/" style="font-size: 10px;">console</a> <a href="/tags/css/" style="font-size: 18px;">css</a> <a href="/tags/http/" style="font-size: 12px;">http</a> <a href="/tags/js/" style="font-size: 20px;">js</a> <a href="/tags/react/" style="font-size: 12px;">react</a> <a href="/tags/vue/" style="font-size: 14px;">vue</a> <a href="/tags/vuex-%E6%BA%90%E7%A0%81/" style="font-size: 12px;">vuex 源码</a> <a href="/tags/web3/" style="font-size: 12px;">web3</a> <a href="/tags/webAssembly/" style="font-size: 10px;">webAssembly</a> <a href="/tags/webRTC/" style="font-size: 12px;">webRTC</a> <a href="/tags/webpack/" style="font-size: 10px;">webpack</a> <a href="/tags/webwork/" style="font-size: 10px;">webwork</a> <a href="/tags/%E4%B8%9A%E5%8A%A1%E5%9C%BA%E6%99%AF/" style="font-size: 10px;">业务场景</a> <a href="/tags/%E5%89%8D%E7%AB%AF/" style="font-size: 20px;">前端</a> <a href="/tags/%E5%B0%8F%E7%A8%8B%E5%BA%8F/" style="font-size: 12px;">小程序</a> <a href="/tags/%E6%89%A9%E5%B1%95%E9%98%85%E8%AF%BB/" style="font-size: 12px;">扩展阅读</a> <a href="/tags/%E6%B5%8F%E8%A7%88%E5%99%A8/" style="font-size: 16px;">浏览器</a> <a href="/tags/%E6%B5%8F%E8%A7%88%E5%99%A8-Performance-Chrome/" style="font-size: 10px;">浏览器 Performance Chrome</a> <a href="/tags/%E9%9D%A2%E8%AF%95/" style="font-size: 14px;">面试</a> <a href="/tags/%E9%A2%9D%E5%A4%96%E5%86%85%E5%AE%B9/" style="font-size: 10px;">额外内容</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/09/">September 2025</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/08/">August 2025</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/10/">October 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/07/">July 2023</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2025/09/05/Vue/%E3%80%90vue%E3%80%91%E8%AF%A6%E8%A7%A3computed/">详解computed</a>
          </li>
        
          <li>
            <a href="/2025/08/25/%E9%9D%A2%E8%AF%95/%E3%80%90%E9%9D%A2%E8%AF%95%E3%80%91%E6%B1%87%E6%80%BB2/">记录3</a>
          </li>
        
          <li>
            <a href="/2025/08/22/%E9%9D%A2%E8%AF%95/%E3%80%90%E9%9D%A2%E8%AF%95%E3%80%91%E6%B1%87%E6%80%BB1/">记录2</a>
          </li>
        
          <li>
            <a href="/2025/08/20/%E9%9D%A2%E8%AF%95/%E3%80%90%E9%9D%A2%E8%AF%95%E3%80%91%E5%A4%96%E5%8C%85/">记录1</a>
          </li>
        
          <li>
            <a href="/2025/08/14/%E6%89%8B%E5%86%99%E9%A2%98/">手写题</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2025 yangxin<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.6.4.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>