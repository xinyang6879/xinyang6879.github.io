<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 7.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.0/css/all.min.css" integrity="sha256-VHqXKFhhMxcpubYf9xiWdCiojEbY9NexQ4jh8AxbvcM=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"example.com","root":"/","images":"/images","scheme":"Muse","darkmode":false,"version":"8.24.0","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":12},"hljswrap":true,"codeblock":{"theme":{"light":"default","dark":"stackoverflow-dark"},"prism":{"light":"prism","dark":"prism-dark"},"copy_button":{"enable":false,"style":null},"fold":{"enable":false,"height":500},"language":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"duration":200,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"}}</script><script src="/js/config.js" defer></script>

    <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://example.com/page/9/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="yangxin">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="http://example.com/page/9/">


<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"en","comments":"","permalink":"","path":"page/9/index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>Hexo</title>
  








  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous" defer></script>
<script src="/js/utils.js" defer></script><script src="/js/motion.js" defer></script><script src="/js/sidebar.js" defer></script><script src="/js/next-boot.js" defer></script>

  






  





  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">Hexo</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="Search" role="button">
    </div>
  </div>
</div>







</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">yangxin</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">100</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
        <span class="site-state-item-count">25</span>
        <span class="site-state-item-name">categories</span>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">25</span>
        <span class="site-state-item-name">tags</span>
      </div>
  </nav>
</div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2025/08/14/HTTP/%E3%80%90%E5%89%8D%E7%AB%AF%E7%BC%93%E5%AD%98%E3%80%91%E9%9A%8F%E6%9C%BA%E6%95%B0%E4%BD%8D%E7%BD%AE%E5%8C%BA%E5%88%AB/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="yangxin">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | Hexo">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/08/14/HTTP/%E3%80%90%E5%89%8D%E7%AB%AF%E7%BC%93%E5%AD%98%E3%80%91%E9%9A%8F%E6%9C%BA%E6%95%B0%E4%BD%8D%E7%BD%AE%E5%8C%BA%E5%88%AB/" class="post-title-link" itemprop="url">【前端缓存】随机数位置区别</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2025-08-14 11:18:06" itemprop="dateCreated datePublished" datetime="2025-08-14T11:18:06+08:00">2025-08-14</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2025-03-06 17:08:26" itemprop="dateModified" datetime="2025-03-06T17:08:26+08:00">2025-03-06</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E6%B5%8F%E8%A7%88%E5%99%A8/" itemprop="url" rel="index"><span itemprop="name">浏览器</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="文件随机数存放位置区别"><a href="#文件随机数存放位置区别" class="headerlink" title="文件随机数存放位置区别"></a>文件随机数存放位置区别</h2><h3 id="文件url-随机数"><a href="#文件url-随机数" class="headerlink" title="文件url+?+随机数"></a>文件url+?+随机数</h3><ul>
<li><p><code>https://xxx?v=1.x.x</code></p>
<p>一般用于版本号对应的文件</p>
</li>
<li><p><code>https://xxx?c=s45sdf</code></p>
<p>一般用于文件内容生成的hash值</p>
</li>
</ul>
<h3 id="文件名-hash值"><a href="#文件名-hash值" class="headerlink" title="文件名+hash值"></a>文件名+hash值</h3><p><code>https://xxxs45sdf</code></p>
<p>hash值一般由文件内容生成</p>
<h2 id="区别"><a href="#区别" class="headerlink" title="区别"></a>区别</h2><p>以上两种存放位置都可以使浏览器获取最新的文件，而不是走缓存拿文件</p>
<p>当前主流的一般是用文件名+hash值的形式。原因如下</p>
<blockquote>
<p>一般发版时，是有html文件和js、css文件的。<br />浏览器首先去请求html文件，html嵌入了js、css等其他文件。<br />那么在请求html和js、css等文件的这个时间差内，如果采用第一种方式(文件url+?+随机数)，就容易出现问题</p>
</blockquote>
<ul>
<li><p>如果先发html文件，再发js、css等文件</p>
<ul>
<li><p>客户请求时，浏览器不会走缓存，会去取最新的文件。</p>
</li>
<li><p>但是可能这个时候取的js、css文件还是老的文件。那么就导致客户端下次再去请求时，走的其实是缓存。</p>
</li>
</ul>
</li>
<li><p>先发js、css等文件，再发html文件</p>
<ul>
<li><p>对于有缓存的用户不会造成影响。</p>
</li>
<li><p>但是对于无缓存的用户，拿取数据时，会拿取到最新的js、css等文件，那么最直观的影响可能是页面样式问题。但当html发布成功后，页面会恢复正常</p>
</li>
</ul>
</li>
<li><p>对于异步加载的情况</p>
<ul>
<li><p>代码发布后，用户在使用过程中，进入了一个新路由</p>
</li>
<li><p>在新路由页面，获取的是最新的代码文件，但是在进入之前，获取的是老代码文件，那么这里就会导致新老代码文件交替，容易出现问题</p>
</li>
</ul>
</li>
</ul>
<p>因此，采用文件名+hash的方式，无论是先发html还是js、css文件，由于是直接通过文件名去获取的，那么就不会产生上述问题。</p>
<ul>
<li><p>先发js、css等文件</p>
<ul>
<li>由于文件名不同，由于文件名已经不一样了，所以不会覆盖掉之前存在的资源文件，客户端依旧可以安全的访问。</li>
</ul>
</li>
<li><p>再发html文件</p>
<ul>
<li>因为js、css等文件已经发布完毕了，那么当html更新了之后，再获取的js、css等文件就已经是最新的了</li>
</ul>
</li>
</ul>
<h2 id="参链"><a href="#参链" class="headerlink" title="参链"></a>参链</h2><p><a target="_blank" rel="noopener" href="https://github.com/fouber/blog/issues/6">大公司里怎样开发和部署前端代码</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2025/08/14/HTTP/%E5%B0%8F%E7%82%B9/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="yangxin">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | Hexo">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/08/14/HTTP/%E5%B0%8F%E7%82%B9/" class="post-title-link" itemprop="url">小点</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2025-08-14 11:18:06" itemprop="dateCreated datePublished" datetime="2025-08-14T11:18:06+08:00">2025-08-14</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2025-05-20 17:17:50" itemprop="dateModified" datetime="2025-05-20T17:17:50+08:00">2025-05-20</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/HTTP/" itemprop="url" rel="index"><span itemprop="name">HTTP</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="状态码"><a href="#状态码" class="headerlink" title="状态码"></a>状态码</h3><ul>
<li>1xx：信息<ul>
<li>100: 继续请求，初始请求已经接收，客户端继续发送剩余部分</li>
<li>101：切换协议，要求服务器切换协议，服务端已确认切换</li>
</ul>
</li>
<li>2xx：成功<ul>
<li>201：服务器创建了新的资源</li>
<li>202：服务器已接受请求，但未完成处理</li>
<li>203：服务器成功处理，但返回的信息可能来自另一个来源</li>
<li>204：服务器成功处理，但无返回内容</li>
<li>205： 用户终端应该重置文档</li>
<li>206：处理了部分get请求</li>
</ul>
</li>
<li>3xx：重定向<ul>
<li>301： 请求页面<strong>永久</strong>跳转到新的url</li>
<li>302：服务器目前从不同位置的网页响应，但请求仍然继续使用原有位置来进行以后处理，即<strong>临时</strong>移动。请求方法可能会改变，比如post改为get</li>
<li>304：自从上次请求后，请求网页未修改过</li>
<li>305：请求者只能使用代理访问</li>
<li>307：服务器目前从不同位置的网页响应，但请求仍然继续使用原有位置来进行以后处理，即<strong>临时</strong>移动。请求方法不需要改变</li>
</ul>
</li>
<li>4xx：客户端错误<ul>
<li>400：请求错误，服务端不理解请求语法</li>
<li>401：未授权</li>
<li>403：服务器拒绝请求</li>
<li>404：未找到</li>
<li>405：禁用请求的方法</li>
<li>406：无法使用请求的内容特性响应请求的页面</li>
<li>407：请求需要代理的身份验证</li>
<li>408：请求超时</li>
<li>409：请求的网页冲突，服务器无法完成请求</li>
<li>410：已删除</li>
<li>411：服务器无法处理请求，因为请求缺少一个或多个必要请求头字段</li>
<li>412：服务器未满足请求者的前提条件</li>
<li>413：请求实体过大</li>
<li>414：请求的URI过长</li>
<li>415：服务器不支持请求的格式</li>
<li>416：请求范围不符合要求</li>
<li>417：服务器无法满足表头字段要求</li>
</ul>
</li>
<li>5xx：服务端错误<ul>
<li>500：服务器内部错误</li>
<li>501：服务器不具备完全请求的功能</li>
<li>502：网关错误，服务器作为网关或代理出现错误</li>
<li>503：服务器当前无法使用</li>
<li>504：网关超时，服务器作为网关或代理出现超时</li>
<li>505：服务器不支持请求的http版本</li>
</ul>
</li>
</ul>
<h3 id="http请求方式"><a href="#http请求方式" class="headerlink" title="http请求方式"></a>http请求方式</h3><ul>
<li><p>ajax,axios</p>
</li>
<li><p>EventSource: SSE技术(服务端推送)</p>
</li>
<li><p>WebSocket</p>
</li>
<li><p>navigator.sendBeacon: 异步数据上报api,用于做数据采集,浏览器会在何时的时间进行数据上报.</p>
<ul>
<li>navigator.sendBeacon只能进行发送，无法接收到服务端返回的数据</li>
<li>在页面卸载时也不会中断此次请求</li>
<li><a target="_blank" rel="noopener" href="https://cloud.tencent.com/developer/article/1956250">[译] 用 sendBeacon 发送分析信息的优点</a></li>
<li><a target="_blank" rel="noopener" href="https://juejin.cn/post/7449402571187683343">Navigator.sendBeacon：前端数据发送的得力助手</a></li>
</ul>
</li>
<li><p>SSE(服务器向浏览器发送数据)</p>
<p>  浏览器通过<code>EventSource</code>的api去监听服务器是否有推送消息给客户端</p>
</li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2025/08/14/HTML/%E5%B0%8F%E7%82%B9/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="yangxin">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | Hexo">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/08/14/HTML/%E5%B0%8F%E7%82%B9/" class="post-title-link" itemprop="url">【HTML】记录小点</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2025-08-14 11:18:06" itemprop="dateCreated datePublished" datetime="2025-08-14T11:18:06+08:00">2025-08-14</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2025-05-09 16:47:55" itemprop="dateModified" datetime="2025-05-09T16:47:55+08:00">2025-05-09</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/HTML/" itemprop="url" rel="index"><span itemprop="name">HTML</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="如何区分H5、HTML、XHTML"><a href="#如何区分H5、HTML、XHTML" class="headerlink" title="如何区分H5、HTML、XHTML"></a>如何区分H5、HTML、XHTML</h3><p>基本概念：</p>
<ul>
<li><p>H5：是html、xhtml和html dom的新标准，h5最先是由web’超文本应用技术工作组命名的一种超文本标记语言，随后与w3c的xhtml2.0结合，产生了现在的h5。可以理解为h5&#x3D;html+css3+HTML+JS+API</p>
</li>
<li><p>HTML：超文本标记语言，是一种基本的web网页设计语言</p>
</li>
<li><p>XHTML：可扩展的文本标记语言，是一种置标语言，表现方式和HTML类似，不过语法更加严格。本质上讲，XHTML是一个过度技术，结合了XML的强大功能及大多数HTML的简单特性</p>
</li>
</ul>
<p>特性区别</p>
<ul>
<li><p>H5：</p>
<ul>
<li>用于绘画的canvas</li>
<li>用于媒介的video和audio元素</li>
<li>对本地离线储存有更好的支持</li>
<li>新的特殊内容元素：article、aside、footer、header、hgroup、nav、section</li>
<li>新的表单控件：calendar、date、time、email、url、search</li>
<li>语义化标签，例如header、h1、footer等，有利于SEO</li>
</ul>
</li>
<li><p>HTML</p>
<ul>
<li>标识文本，例如定义标题文本、段落文本、列表文本等</li>
<li>建立超链接，便于页面链接的跳转</li>
<li>创建列表，把信息有序地组织在一起以方便预览</li>
<li>在网页中显示图像、声音、视频、动画等多媒体信息</li>
<li>可以制作表格、表单</li>
<li>无语义化标签</li>
</ul>
</li>
<li><p>XHTML：</p>
<ul>
<li>要求正确嵌套</li>
<li>所有元素必须关闭</li>
<li>区分大小写</li>
<li>属性要用双引号</li>
<li>用id属性替代name</li>
<li>特殊字符处理</li>
<li>处理各大浏览器的兼容问题</li>
</ul>
</li>
</ul>
<h3 id="W3C"><a href="#W3C" class="headerlink" title="W3C"></a>W3C</h3><ul>
<li>W3C标准规范要求：书写标签必须闭合、标签小写、不乱嵌套，可以提高机器人对网页的搜索概率</li>
<li>建议使用CSS和JS脚本，从而达到结构与行为、结构与表现的分离，提高页面渲染速度，可以更快显示页面内容</li>
<li>不需要变动页面内容，可以提供打印版本而不需要复制内容，提高网站易用性。</li>
<li>标签样式分离，合理语义化标签，使内容能被更多用户访问和更广泛的设备访问，使用更少的代码和组件，从而降低维护成本，且改版容易</li>
</ul>
<h3 id="HTML的DOCTYPE作用"><a href="#HTML的DOCTYPE作用" class="headerlink" title="HTML的DOCTYPE作用"></a>HTML的DOCTYPE作用</h3><ul>
<li><p>定义</p>
<p>  是Document Type的简写，不是HTML标签，也没有结束标签，只用于告诉浏览器当前HTML是用什么版本编写的，是一种标记语言的文档类型声明</p>
<p>  必须在html第一行，在html标签前面，其会影响代码验证，并决定了浏览器应该如何显示用户的web文档</p>
</li>
<li><p>作用</p>
<p>  用于声明文档类型，浏览器通过这个可以了解预期的文档类型，这样可以知道用哪一种规范（DTD）解析文档（html或xhtml）</p>
</li>
</ul>
<h3 id="HTML的DOCTYPE的种类"><a href="#HTML的DOCTYPE的种类" class="headerlink" title="HTML的DOCTYPE的种类"></a>HTML的DOCTYPE的种类</h3><ul>
<li><p>严格版本Strict、过渡版本Transitional和基于框架Frameset</p>
</li>
<li><p>严格版本&#x2F;标准模式：呈现遵循最新标准的网页</p>
</li>
<li><p>松散&#x2F;兼容&#x2F;包容模式：为传统浏览器设计的网页</p>
</li>
</ul>
<h3 id="Quirks是什么，与标准模式区别"><a href="#Quirks是什么，与标准模式区别" class="headerlink" title="Quirks是什么，与标准模式区别"></a>Quirks是什么，与标准模式区别</h3><ul>
<li><p>Quirks&#x2F;包容模式</p>
<p>  IE6之前的页面不会写DTD，所以ie6假定了如果写了DTD，那么就意味着这个页面采用对css支持更好的布局，如果没有，就采用兼容之前的布局方式，这就是quirks模式</p>
</li>
<li><p>区别</p>
<ul>
<li><p>盒模型</p>
<p>  标准模式：宽度&#x3D;width</p>
<p>  quirks模式：宽度&#x3D;padding+width+border</p>
</li>
<li><p>设置百分比的高度：</p>
<p>  标准模式：元素高度是由内容来决定的。如果父元素没有设置高度，那么子元素设置的高度百分比是无效的</p>
</li>
<li><p>设置行内元素高度</p>
<p>  标准模式：行内元素高度设置是无效的</p>
<p>  quirks模式：行内元素可以设置高度</p>
</li>
<li><p>设置水平居中</p>
<p>  标准模式：margin&#x3D;auto是有效的</p>
<p>  quirks模式：auto是无效的</p>
</li>
</ul>
</li>
</ul>
<h3 id="h5新特性"><a href="#h5新特性" class="headerlink" title="h5新特性"></a>h5新特性</h3><ul>
<li>离线缓存：关闭浏览器后再次打开时恢复数据，减少网络流量</li>
<li>音视频、调用摄像头、手机相册、通讯录等</li>
<li>地理定位</li>
<li>canvas绘图</li>
<li>拖拽、撤销历史、文本选择等</li>
<li>开发和维护成本低于app，页面内存占用小，减少用户不必要支出</li>
<li>css3支持字体嵌入、版面排版</li>
<li>figure: 规定独立的流内容(图片,代码等),figure的内容应该与主内容相关,同时元素位置相对于主内容是独立的,如果被删除不会造成影响</li>
</ul>
<h3 id="元素alt和title"><a href="#元素alt和title" class="headerlink" title="元素alt和title"></a>元素alt和title</h3><ul>
<li>相同处：都属于提示类文案</li>
<li>不同<ul>
<li>alt在图片中，加载失败时显示alt，而title是会出现一个小浮窗</li>
<li>alt是img必要属性，只能用在img、area和input元素中，title不是img必要属性，任何元素都可以使用</li>
<li>alt只能是元素属性，title可以作为属性，也可以作为标签&lt;title&gt;使用</li>
<li>a标签嵌套img标签时，起作用的是img的title属性</li>
<li>无障碍：alt可以触发阅读器，title不行</li>
<li>SEO：alt可以作为图片的SEO优化，title对于元素的SEO优化较小</li>
</ul>
</li>
</ul>
<h3 id="background-image和img设置图片有什么区别"><a href="#background-image和img设置图片有什么区别" class="headerlink" title="background-image和img设置图片有什么区别"></a>background-image和img设置图片有什么区别</h3><p>相同点：</p>
<ul>
<li>都可以显示图片</li>
<li>可以设置图片大小</li>
</ul>
<p>不同点: </p>
<ul>
<li>background-image是css属性，img是html标签</li>
<li>background-image设置宽高需要配合background-position、background-size等属性，img标签与width、height配合</li>
<li>img可以设置alt属性，用于优化seo和图片加载失败的描述，background-image不行</li>
<li>img可以使用srcset属性用于响应式图片（srcset&#x3D;”image-1x.jpg 1x, image-2x.jpg 2x” ）</li>
<li>img是作为独立元素，影响文档流；background-image是作为背景图，不影响文档流</li>
<li>加载时机:<ul>
<li>img：html渲染到img标签时就会进行图片加载</li>
<li>background-image：<ul>
<li>内联（style&#x3D;”background-image:url(image.jpg)”: 和img标签类似，解析到则进行加载</li>
<li>外部css：css文件下载并解析后执行</li>
<li>当页面内容加载过多时，可能会降低background-image的加载优先级，因此会被认为是装饰性图片</li>
</ul>
</li>
</ul>
</li>
<li>懒加载<ul>
<li>img：loading&#x3D;”lazy”，chrome76+，firefox75+</li>
<li>background-image：只能通过js或css实现</li>
</ul>
</li>
<li>大图时导致页面延迟渲染<ul>
<li>img：<ul>
<li>在解析html时，若未加上loading&#x3D;”lazy”，那么就会立马进行图片加载，这个时候会占用带宽，因此会导致关键资源加载延迟</li>
<li>未设置宽高时，由于图片加载后，会导致其余元素位置变化，而触发回流</li>
</ul>
</li>
<li>background-image：<ul>
<li>对图片的加载是在css解析过程中进行的</li>
<li>背景图的加载一般会触发重绘，通常不会导致回流（除非元素尺寸依赖于背景图</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>优缺点：</p>
<ul>
<li><p>img：</p>
<ul>
<li>优点：<ul>
<li>语义化</li>
<li>利于seo和无障碍优化</li>
<li>响应式：loading&#x3D;”lazy”（有兼容性</li>
<li>打印支持：在打印时显示图片</li>
</ul>
</li>
<li>缺点<ul>
<li>影响其他元素</li>
<li>图片较大会影响页面渲染，图片过多会增加http请求</li>
</ul>
</li>
<li>场景<ul>
<li>内容性图片：如文章配图、产品展示图、用户头像等。</li>
<li>需要 SEO 优化的图片：如商品图片、图表等。</li>
<li>需要可访问性支持的图片：如信息图、图表等。</li>
<li>需要打印的图片：如报告、文档中的插图。</li>
</ul>
</li>
</ul>
</li>
<li><p>background-image：</p>
<ul>
<li>优点：<ul>
<li>利用雪碧图可以减少http请求</li>
<li>不占用文档流</li>
<li>图片加载失败不会影响页面结构</li>
</ul>
</li>
<li>缺点：<ul>
<li>不利于seo和无障碍</li>
<li>默认不打印背景图片</li>
<li>响应式：需要手动写</li>
</ul>
</li>
<li>场景：<ul>
<li>装饰性图片：如按钮图标、背景纹理、边框装饰等。</li>
<li>CSS 雪碧图：合并多个小图标减少请求。</li>
<li>全屏背景或遮罩：如页面背景图、模态框遮罩层。</li>
<li>动态效果控制：通过 CSS 动画或过渡实现背景图变化。</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="乱码原因"><a href="#乱码原因" class="headerlink" title="乱码原因"></a>乱码原因</h3><ul>
<li>不同编码内容混杂：html乱码是由html编码问题造成的</li>
<li>未设置html编码，设置meta头text&#x2F;html;charset&#x3D;utf-8</li>
<li>编辑工具的编码问题，例如使用记事本直接写html可能会造成乱码</li>
<li>浏览器不能自动检测网页编码，造成网页乱码</li>
</ul>
<h3 id="js放在html不同位置有什么区别"><a href="#js放在html不同位置有什么区别" class="headerlink" title="js放在html不同位置有什么区别"></a>js放在html不同位置有什么区别</h3><ul>
<li>如果使用<code>window.</code>，将js放在里面，则在哪儿都一样，因为都是需要等body之后再加载</li>
<li>如果不使用<code>window.</code>，放在head中，代码不会执行。因为html执行顺序不同，html从开始运行到进入index.js文件，其中被function包围起来的代码不会被运行，直接执行最后一句代码。如果html页面没有加载完，找不到元素会报错</li>
</ul>
<h3 id="什么是列表及列表分类"><a href="#什么是列表及列表分类" class="headerlink" title="什么是列表及列表分类"></a>什么是列表及列表分类</h3><p>列表定义：</p>
<ul>
<li>是一种信息资源的展示方式</li>
<li>可以使得信息结构化和条理化，并以列表的样式显示出来，便于阅读者快速方便的获取信息</li>
<li>ul、ol、dl不能嵌套其他标签，但是li可以</li>
</ul>
<p>列表分类</p>
<ul>
<li>ol：有序列表<ul>
<li>有顺序，每个li独占一行</li>
<li>一般用于排序类型的列表</li>
<li>默认li标签前面有顺序标记</li>
</ul>
</li>
<li>ul：无序列表<ul>
<li>无顺序，每个li独占一行</li>
<li>一般用于无序类型的列表，例如导航栏等</li>
<li>默认li标签前面有·标记</li>
</ul>
</li>
<li>dl：自定义列表<ul>
<li>无顺序，dt、dd标签独占一行</li>
<li>一般用于一个标题下有一个或多个列表项</li>
<li>默认无标记</li>
</ul>
</li>
</ul>
<h3 id="常见表单元素"><a href="#常见表单元素" class="headerlink" title="常见表单元素"></a>常见表单元素</h3><ul>
<li><p>input</p>
<p>  type类型包括：password、text、image、hidden、file</p>
</li>
<li><p>textarea</p>
<p>  可设置行列数</p>
</li>
<li><p>button</p>
</li>
<li><p>select</p>
<p>  option、label</p>
</li>
<li><p>radio</p>
</li>
<li><p>checkbox</p>
</li>
</ul>
<h3 id="表单提交方式"><a href="#表单提交方式" class="headerlink" title="表单提交方式"></a>表单提交方式</h3><ul>
<li><p>submit提交</p>
<p>  在form表单加上action属性，且input加上type&#x3D;submit</p>
</li>
<li><p>axios提交</p>
</li>
</ul>
<h3 id="为什么使用h5标签布局网页"><a href="#为什么使用h5标签布局网页" class="headerlink" title="为什么使用h5标签布局网页"></a>为什么使用h5标签布局网页</h3><p>对h5来说，网页结构与使用更加语义化，利于seo</p>
<p>section和article标签相似，且和nav也类似</p>
<p>nav：非常常见的标签，本身无任何语义，用作布局及样式话标签</p>
<p>section：用作一段有专题性的内容，一般在这个标签里面会带有标题。典型场景包括文章章节、标签对话框的标签页或论文中有编号的部分</p>
<p>article：特殊的section标签，代表一个独立完整的相关内容块</p>
<h3 id="如何达到表单的初步验证"><a href="#如何达到表单的初步验证" class="headerlink" title="如何达到表单的初步验证"></a>如何达到表单的初步验证</h3><p>验证属性</p>
<ul>
<li><code>required</code>：必填<ul>
<li><code>valueMissing</code>: 判断当前元素是否为空，配合<code>required</code>使用</li>
</ul>
</li>
<li><code>pattern</code>：正则验证当前元素值是否匹配<ul>
<li><code>patternMismatch</code>: 判断当前元素是否符合正则，配合<code>pattern</code>使用</li>
</ul>
</li>
<li><code>max</code>和<code>min</code>：验证当前元素最大或最小值，一般用于染个&#x2F;number类型的元素<ul>
<li>rangeUnderflow：判断当前元素值是否小于min属性值，配合min属性使用</li>
</ul>
</li>
<li><code>minlength</code>和<code>maxlength</code>：验证内容最大长度和最小长度<ul>
<li><code>tooLong</code>: 判断当前元素长度是否符合，配合<code>maxlength</code>使用</li>
</ul>
</li>
<li><code>validity</code>：h5表单提供的一种有效状态，有效状态通过<code>validityState</code>获取，<code>validityState</code>通过<code>validity</code>获取</li>
</ul>
<p>验证状态</p>
<ul>
<li><code>typeMismatch</code>: 判断当前元素值的类型是否匹配，配合email&#x2F;number&#x2F;url使用</li>
<li><code>stepMismatch</code>: 判断当前元素是否与step设置相同，配合step使用，并不与min、max属性值比较</li>
<li><code>valid</code>: 判断当前元素是否正确，返回true标识验证成功</li>
<li><code>customError</code>: 配合<code>setCustomValidity()</code>方法使用</li>
<li>setCustomValidity(message)：设置自定义错误信息，一旦使用该方法修改默认错误提示后，即使输入正确也会有提示</li>
</ul>
<h3 id="iframe优缺点"><a href="#iframe优缺点" class="headerlink" title="iframe优缺点"></a>iframe优缺点</h3><p>优点:</p>
<ul>
<li>解决加载缓慢的第三方内容</li>
<li>iframe跨域通信(postMessage)</li>
<li>iframe无刷新文件上传</li>
</ul>
<p>缺点</p>
<ul>
<li>阻塞主页面的onLoad事件</li>
<li>不利于seo</li>
<li>页面产生多,不利于管理</li>
<li>增加服务器请求</li>
<li>可能会导致资源无法共用<ul>
<li>同源+缓存策略(未过期&#x2F;不需要重新请求)会从缓存中读取</li>
<li>同源 + 缓存过期但有 ETag	⚠️ 发送条件请求（可能返回 304）</li>
<li>跨域 + 无 CORS 缓存策略	✅ 重新请求</li>
<li>请求头或方法不同	✅ 重新请求</li>
</ul>
</li>
</ul>
<h3 id="页面性能优化"><a href="#页面性能优化" class="headerlink" title="页面性能优化"></a>页面性能优化</h3><ul>
<li>内容方面<ul>
<li>减少http请求</li>
<li>使用http2&#x2F;3</li>
<li>减少dom元素数量</li>
<li>请求缓存</li>
<li>使用多域名负载网页内的多个文件,图片</li>
<li>使用gzip压缩</li>
</ul>
</li>
<li>css<ul>
<li>css放到页面上端</li>
<li>把js和css分离开</li>
<li>精简js和css</li>
<li>避免css表达式</li>
</ul>
</li>
<li>js<ul>
<li>tree shanking</li>
<li>放到页面底部</li>
<li>减少重复代码</li>
</ul>
</li>
<li>图片<ul>
<li>优化图片</li>
<li>不缩放图片</li>
<li>使用恰当的图片格式(webp更好)</li>
<li>css雪碧图优化</li>
</ul>
</li>
</ul>
<h3 id="图片懒加载和预加载"><a href="#图片懒加载和预加载" class="headerlink" title="图片懒加载和预加载"></a>图片懒加载和预加载</h3><p>懒加载: 滚动到了图片的位置,才进行加载.</p>
<p>减少不必要的访问数据库或延迟访问数据的次数,减少服务器端的压力</p>
<p>预加载: 在还没到图片位置的时候,就开始加载图片</p>
<p>在网页全部加载之前加载图片,那么当用户查看时,可以之间从缓存中渲染图片,减少等待时间</p>
<p>当图片过大时,可能会导致页面白屏时间加长</p>
<h3 id="a标签作用"><a href="#a标签作用" class="headerlink" title="a标签作用"></a>a标签作用</h3><ul>
<li><p>外部页面连接</p>
</li>
<li><p>本地页面链接</p>
<p>  href指向相对路径,就可以打开当前目录下对应的文件</p>
</li>
<li><p>锚点链接</p>
</li>
<li><p>其他</p>
<ul>
<li>打开email: <code>&lt;a href=&#39;mailto:邮件接收人&#39;&gt;&lt;/a&gt;</code></li>
<li>短链,打开小程序,qq等</li>
<li>打电话: <code>&lt;a href=&#39;tel: 180xxx&#39;&gt;&lt;/a&gt;</code></li>
</ul>
</li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2025/08/14/HTML/%E3%80%90HTML%E3%80%91%E8%AE%B0%E5%BD%95/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="yangxin">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | Hexo">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/08/14/HTML/%E3%80%90HTML%E3%80%91%E8%AE%B0%E5%BD%95/" class="post-title-link" itemprop="url">【HTML】记录</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>
      

      <time title="Created: 2025-08-14 11:18:06 / Modified: 11:19:28" itemprop="dateCreated datePublished" datetime="2025-08-14T11:18:06+08:00">2025-08-14</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/HTML/" itemprop="url" rel="index"><span itemprop="name">HTML</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="input-type-file的cancel事件"><a href="#input-type-file的cancel事件" class="headerlink" title="input type&#x3D;file的cancel事件"></a>input type&#x3D;file的cancel事件</h3><p>mdn并未写明当前的<code>input</code>标签支持cancel事件</p>
<h4 id="触发条件"><a href="#触发条件" class="headerlink" title="触发条件"></a>触发条件</h4><p>在pc端中，点击上传的输入框，然后在弹出的文件选择器中点击取消按钮，即可触发当前这个事件</p>
<h4 id="表现"><a href="#表现" class="headerlink" title="表现"></a>表现</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 子组件 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;file&quot;</span> <span class="attr">id</span>=<span class="string">&quot;ipt1&quot;</span> @<span class="attr">cancel</span>=<span class="string">&quot;cancle2&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;上传123&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">input</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 父组件 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">childComp</span> @<span class="attr">cancel</span>=<span class="string">&quot;cancle1&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">childComp</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>在vue3项目中，会触发子组件的<code>cancle2</code>事件</p>
<p>若在子组件中没有<code>cancle2</code>事件，那么这个事件会冒泡到父组件中，执行<code>cancle1</code>事件。因此若父组件有监听子组件的cancel事件，那么在这个情况下会直接执行，可能会导致触发其他问题</p>
<p>浏览器：谷歌、火狐都支持</p>
<h4 id="监听"><a href="#监听" class="headerlink" title="监听"></a>监听</h4><blockquote>
<p>vue</p>
</blockquote>
<ul>
<li>组件直接监听</li>
<li>子组件未监听，父组件监听</li>
<li>window.addEventListener(‘cancel’): 会执行两次，触发元素是window</li>
<li>document.getElementById(‘’).addEventListener(‘cancel’): 不执行</li>
</ul>
<blockquote>
<p>普通html</p>
</blockquote>
<ul>
<li>window.addEventListener(‘cancel’): 只执行一次，触发元素是window</li>
<li>document.getElementById(‘’).addEventListener(‘cancel’): 只执行一次，触发元素是对应的元素</li>
</ul>
<p>技术栈：vue3+ts+pinia+vite+vantui<br>项目介绍：PC+H5，支持多种资料类型上传，可配置资料留资，悬浮码等功能，增加内容分发等功能，企业微信侧边栏可快速发送</p>
<p>● 负责核心复杂功能模块的设计与实现<br>1、资料上传：支持pdf、图片、公众号等5种资料类型上传，可配置资料留资，悬浮码等功能，增加内容分发等功能，企业微信侧边栏可快速发送</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2025/08/14/HTML/%E3%80%90HTML%E3%80%91templates%20and%20slots/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="yangxin">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | Hexo">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/08/14/HTML/%E3%80%90HTML%E3%80%91templates%20and%20slots/" class="post-title-link" itemprop="url">【HTML】templates and slots</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2025-08-14 11:18:06" itemprop="dateCreated datePublished" datetime="2025-08-14T11:18:06+08:00">2025-08-14</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2025-03-06 17:08:26" itemprop="dateModified" datetime="2025-03-06T17:08:26+08:00">2025-03-06</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/HTML/" itemprop="url" rel="index"><span itemprop="name">HTML</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="【HTML】templates-and-slots"><a href="#【HTML】templates-and-slots" class="headerlink" title="【HTML】templates and slots"></a>【HTML】templates and slots</h1><h2 id="概况"><a href="#概况" class="headerlink" title="概况"></a><h1>概况</h1></h2><p>可以用来灵活填充 Web 组件的 shadow DOM 的模板。可以复用相同的标记结构。</p>
<h2 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h2><ul>
<li><p>编写一个 template</p>
<p>直接在页面中编写一个 template 不会直接在页面中显示出来</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">id</span>=<span class="string">&quot;test&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">    <span class="selector-tag">p</span> &#123;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">color</span>: white;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">background-color</span>: <span class="number">#666</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">padding</span>: <span class="number">5px</span>;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">  </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>测试template<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>注册自定义模板</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">customElements.<span class="title function_">define</span>(</span><br><span class="line">  <span class="string">&quot;test-template&quot;</span>,</span><br><span class="line">  <span class="keyword">class</span> <span class="title class_">extends</span> <span class="title class_">HTMLElement</span> &#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="variable language_">super</span>();</span><br><span class="line">      <span class="keyword">let</span> template = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;test&quot;</span>);</span><br><span class="line">      <span class="keyword">let</span> templateContent = template.<span class="property">content</span>;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">const</span> shadowRoot = <span class="variable language_">this</span>.<span class="title function_">attachShadow</span>(&#123; <span class="attr">mode</span>: <span class="string">&quot;open&quot;</span> &#125;);</span><br><span class="line">      shadowRoot.<span class="title function_">appendChild</span>(templateContent.<span class="title function_">cloneNode</span>(<span class="literal">true</span>));</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
</li>
<li><p>组件显示</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">test-template</span> /&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>页面显示</p>
<p><a target="_blank" rel="noopener" href="https://imgse.com/i/pC4aUiV"><img src="https://s1.ax1x.com/2023/07/14/pC4aUiV.png" alt="pC4aUiV.png"></a></p>
<p>template 的元素的样式也是独立的，并不会因为父级定义的同一个样式而影响内部。</p>
<p>虽然 template 和使用在同一个页面，但是如果直接在 Elements 面板里面修改 template 的内容，<strong>不会</strong>影响到渲染的地方。</p>
<p><a target="_blank" rel="noopener" href="https://imgse.com/i/pC4aWRO"><img src="https://s1.ax1x.com/2023/07/14/pC4aWRO.png" alt="pC4aWRO.png"></a></p>
</li>
<li><p>添加 slot</p>
<p>添加的slot的样式只收到父级的影响，并不会受到template中定义的样式影响</p>
<p>如果是template中并没有定义对于的slot，那么传入的slot并不会被渲染</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">id</span>=<span class="string">&quot;test&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">    <span class="selector-tag">p</span> &#123;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">color</span>: white;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">background-color</span>: <span class="number">#666</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">padding</span>: <span class="number">5px</span>;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">  </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">slot</span>&gt;</span><span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">slot</span> <span class="attr">name</span>=<span class="string">&quot;text1&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>测试template<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">test-template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>默认slot的内容<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">slot</span>=<span class="string">&quot;text1&quot;</span>&gt;</span>具名插槽的内容<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">test-template</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://imgse.com/i/pC4azLj"><img src="https://s1.ax1x.com/2023/07/14/pC4azLj.png" alt="pC4azLj.png"></a></p>
<ul>
<li>获取slot名</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> el = <span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(<span class="string">&#x27;test-template p&#x27;</span>)</span><br><span class="line">  el.<span class="title function_">forEach</span>(<span class="function"><span class="params">ele</span>=&gt;</span>&#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(ele.<span class="property">slot</span>)</span><br><span class="line">  &#125;)</span><br><span class="line"><span class="comment">//  输出：&quot;&quot;, &quot;text1&quot;, &quot;text2&quot;</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="参链"><a href="#参链" class="headerlink" title="参链"></a>参链</h2><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/API/Web_components/Using_templates_and_slots#%E4%BD%BF%E7%94%A8%E6%A7%BD_slots_%E6%B7%BB%E5%8A%A0%E7%81%B5%E6%B4%BB%E5%BA%A6">使用 templates and slots</a></p>
<p><a target="_blank" rel="noopener" href="https://cloud.tencent.com/developer/article/1009633?areaSource=106001.5">shadow dom解析</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2025/08/14/HTML/%E3%80%90HTML%E3%80%91Shadow%20DOM/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="yangxin">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | Hexo">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/08/14/HTML/%E3%80%90HTML%E3%80%91Shadow%20DOM/" class="post-title-link" itemprop="url">【HTML】Shadow DOM</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2025-08-14 11:18:06" itemprop="dateCreated datePublished" datetime="2025-08-14T11:18:06+08:00">2025-08-14</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2025-03-06 17:08:26" itemprop="dateModified" datetime="2025-03-06T17:08:26+08:00">2025-03-06</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/HTML/" itemprop="url" rel="index"><span itemprop="name">HTML</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="【HTML】Shadow-DOM"><a href="#【HTML】Shadow-DOM" class="headerlink" title="【HTML】Shadow DOM"></a>【HTML】Shadow DOM</h1><h2 id="概况"><a href="#概况" class="headerlink" title="概况"></a><h1>概况</h1></h2><h3 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h3><p>能够为 Web 组件中的 DOM 和 CSS 提供了封装，实际上是在浏览器渲染文档的时候会给指定的 DOM 结构插入编写好的 DOM 元素，但是插入的 Shadow DOM 会与主文档的 DOM 保持<strong>分离</strong>，也就是说 Shadow DOM<strong>不存在</strong>于主 DOM 树上。shadow root 节点为起始根节点，在这个根节点的下方，可以是任意元素，和普通的 DOM 元素一样。</p>
<p>并且 Shadow DOM 封装出来的 DOM 元素是<strong>独立</strong>的，外部的配置不会影响到内部，内部的配置也不会影响外部。</p>
<p><a target="_blank" rel="noopener" href="https://imgse.com/i/pCfsSyD"><img src="https://s1.ax1x.com/2023/07/12/pCfsSyD.png" alt="pCfsSyD.png"></a></p>
<h3 id="查看"><a href="#查看" class="headerlink" title="查看"></a>查看</h3><p>控制台-》设置按钮-》Preference -》 Elements -》点击 show user anent shadow dom 的 checkbox</p>
<p><a target="_blank" rel="noopener" href="https://imgse.com/i/pCfrOF1"><img src="https://s1.ax1x.com/2023/07/12/pCfrOF1.png" alt="pCfrOF1.png"></a></p>
<p>打开之后可以看到一些元素的真实布局及内容组成。</p>
<h3 id="结构"><a href="#结构" class="headerlink" title="结构"></a>结构</h3><p><img src="https://developer.mozilla.org/en-US/docs/Web/API/Web_components/Using_shadow_DOM/shadowdom.svg" alt="image.png"></p>
<ul>
<li><p><code>Shadow host</code>：一个常规 DOM 节点，Shadow DOM 会被附加到这个节点上。</p>
</li>
<li><p><code>Shadow tree</code>：Shadow DOM 内部的 DOM 树。</p>
</li>
<li><p><code>Shadow boundary</code>：Shadow DOM 结束的地方，也是常规 DOM 开始的地方。</p>
</li>
<li><p><code>Shadow root</code>: Shadow tree 的根节点。</p>
</li>
</ul>
<h2 id="custom-element-自定义标签"><a href="#custom-element-自定义标签" class="headerlink" title="custom element(自定义标签)"></a><h1>custom element(自定义标签)</h1></h2><h3 id="概况-1"><a href="#概况-1" class="headerlink" title="概况"></a>概况</h3><p>可以注册一个自定义标签，<code>CustomElementRegistry</code>提供注册自定义元素和查询已注册元素的方法，使用<code>customElements</code>可以直接获取其实例。</p>
<h3 id="方法"><a href="#方法" class="headerlink" title="方法"></a>方法</h3><table>
<thead>
<tr>
<th>方法名</th>
<th>作用</th>
<th>参数</th>
<th>返回值</th>
</tr>
</thead>
<tbody><tr>
<td><code>customElements.define</code></td>
<td>定义了一个自定义元素</td>
<td><code>name</code>: 自定义元素名; <code>constructor</code>: 自定义元素构造器; <code>options</code>: 控制元素如何定义(目前只支持extends)</td>
<td>-</td>
</tr>
<tr>
<td><code>customElements.get</code></td>
<td>返回以前定义自定义元素的构造函数</td>
<td><code>name</code>: 返回引用的构造函数的自定义元素的名字</td>
<td>指定名字的自定义元素的构造函数，如果没有使用该名称的自定义元素定义，则为undefined。</td>
</tr>
<tr>
<td><code>customElements.upgrade</code></td>
<td>将更新节点子树中所有包含阴影的自定义元素，甚至在它们连接到主文档之前也是如此</td>
<td><code>root</code>: 待升级的包含阴影的派生元素节点</td>
<td>-</td>
</tr>
<tr>
<td><code>customElements.whenDefined</code></td>
<td>当一个自定义节点被定义时走入then，如果这个元素名没有被定义，那么返回的是一直pending状态</td>
<td><code>name</code>: 自定义元素名</td>
<td>Promise</td>
</tr>
</tbody></table>
<h3 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">customElements.<span class="title function_">define</span>(<span class="string">&quot;test-shadow-dom&quot;</span>, <span class="title class_">TestShadowCls</span>)</span><br></pre></td></tr></table></figure>

<h2 id="使用-1"><a href="#使用-1" class="headerlink" title="使用"></a><h1>使用</h1></h2><h3 id="挂载-shadow-dom"><a href="#挂载-shadow-dom" class="headerlink" title="挂载 shadow dom"></a>挂载 shadow dom</h3><p>可以调用<code>Element.attachShadow</code>将 Shadow Dom 选择挂载或者卸载。此方法返回的是一个类 dom，可以像操作普通 dom 一样对其进行操作</p>
<table>
<thead>
<tr>
<th>参数名</th>
<th>作用</th>
<th>可选值</th>
</tr>
</thead>
<tbody><tr>
<td><code>mode</code></td>
<td><code>指定 Shadow DOM 树封装模式的字符串</code></td>
<td><code>open</code>&#x2F;<code>closed</code></td>
</tr>
<tr>
<td><code>delegatesFocus </code></td>
<td><code>焦点委托</code></td>
<td><code>boolean</code></td>
</tr>
</tbody></table>
<ul>
<li><p>挂载</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> shadow = el.<span class="title function_">attachShadow</span>(&#123;</span><br><span class="line">  <span class="attr">mode</span>: <span class="string">&quot;open&quot;</span>,</span><br><span class="line">&#125;);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">dir</span>(shadow);</span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://imgse.com/i/pCfgDbD"><img src="https://s1.ax1x.com/2023/07/12/pCfgDbD.png" alt="pCfgDbD.png"></a></p>
</li>
<li><p>操作 shadow dom</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> html = <span class="string">`&lt;p&gt;测试1&lt;/p&gt;`</span>;</span><br><span class="line">shadow.<span class="property">innerHTML</span> = html;</span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://imgse.com/i/pCfRCm8"><img src="https://s1.ax1x.com/2023/07/12/pCfRCm8.png" alt="pCfRCm8.png"></a></p>
</li>
</ul>
<h3 id="自定义元素"><a href="#自定义元素" class="headerlink" title="自定义元素"></a>自定义元素</h3><p>Shadow DOM 可以渲染自定义的元素，类似于 vue3 中的组件，但里面的样式并不互相干扰。</p>
<ul>
<li><p>新建类</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">TestShadowCls</span> <span class="keyword">extends</span> <span class="title class_ inherited__">HTMLElement</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">super</span>(); <span class="comment">//必要的，因为属于子类</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>创建一个 Shadow DOM 并为其加上需要的数据</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">addShadow</span>(<span class="params"></span>)&#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">shadow</span> = <span class="variable language_">this</span>.<span class="title function_">attachShadow</span>(&#123;</span><br><span class="line">      <span class="attr">mode</span>: <span class="string">&quot;open&quot;</span></span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">createChild</span>(<span class="params"></span>)&#123;</span><br><span class="line">  <span class="keyword">const</span> el = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;div&quot;</span>);</span><br><span class="line">  <span class="keyword">const</span> pel = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;p&quot;</span>);</span><br><span class="line">  pel.<span class="property">textContent</span> = <span class="string">&quot;测试文案&quot;</span>;</span><br><span class="line">  pel.<span class="title function_">setAttribute</span>(<span class="string">&quot;class&quot;</span>, <span class="string">&quot;test&quot;</span>)</span><br><span class="line">  <span class="keyword">const</span> imgae = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;img&quot;</span>);</span><br><span class="line">  imgae.<span class="title function_">setAttribute</span>(<span class="string">&quot;src&quot;</span>, <span class="string">&quot;https://psstatic.cdn.bcebos.com/video/wiseindex/aa6eef91f8b5b1a33b454c401_1660835115000.png&quot;</span>)</span><br><span class="line">  imgae.<span class="property">src</span>=<span class="string">&quot;https://psstatic.cdn.bcebos.com/video/wiseindex/aa6eef91f8b5b1a33b454c401_1660835115000.png&quot;</span>;</span><br><span class="line">  el.<span class="title function_">appendChild</span>(pel);</span><br><span class="line">  el.<span class="title function_">appendChild</span>(imgae)</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">shadow</span>.<span class="title function_">appendChild</span>(el)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>定义自定义的元素名</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">customElements.<span class="title function_">define</span>(<span class="string">&quot;test-shadow-dom&quot;</span>, <span class="title class_">TestShadowCls</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p>使用</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">  <span class="selector-tag">p</span>&#123;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">color</span>: red;</span></span><br><span class="line"><span class="language-css">  &#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">test-shadow-dom</span> /&gt;</span></span><br></pre></td></tr></table></figure>

<p>渲染效果如下，里面的文案并没有因为<code>style</code>加上的元素样式而生效</p>
<p><a target="_blank" rel="noopener" href="https://imgse.com/i/pCfqRu4"><img src="https://s1.ax1x.com/2023/07/12/pCfqRu4.png" alt="pCfqRu4.png"></a></p>
</li>
<li><p>添加样式</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">createClass</span>(<span class="params"></span>)&#123;</span><br><span class="line">  <span class="keyword">const</span> style = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;style&quot;</span>);</span><br><span class="line">  style.<span class="property">textContent</span> = <span class="string">`</span></span><br><span class="line"><span class="string">      .test&#123;</span></span><br><span class="line"><span class="string">          color: blue;</span></span><br><span class="line"><span class="string">          font-weight: 600</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">  `</span></span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">shadow</span>.<span class="title function_">appendChild</span>(style)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>加上了之后，样式生效</p>
<p><a target="_blank" rel="noopener" href="https://imgse.com/i/pCfL98f"><img src="https://s1.ax1x.com/2023/07/12/pCfL98f.png" alt="pCfL98f.png"></a></p>
</li>
</ul>
<h2 id="参链"><a href="#参链" class="headerlink" title="参链"></a>参链</h2><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/API/Web_components/Using_shadow_DOM">使用 shadow DOM</a></p>
<p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/559759502">究竟什么是 Shadow DOM？</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2025/08/14/devTools/%E3%80%90devTools%E3%80%91%E5%B8%B8%E7%94%A8%E9%9D%A2%E6%9D%BF/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="yangxin">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | Hexo">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/08/14/devTools/%E3%80%90devTools%E3%80%91%E5%B8%B8%E7%94%A8%E9%9D%A2%E6%9D%BF/" class="post-title-link" itemprop="url">【devTools】常用面板</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2025-08-14 11:18:06" itemprop="dateCreated datePublished" datetime="2025-08-14T11:18:06+08:00">2025-08-14</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2025-03-06 17:08:26" itemprop="dateModified" datetime="2025-03-06T17:08:26+08:00">2025-03-06</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E6%B5%8F%E8%A7%88%E5%99%A8/" itemprop="url" rel="index"><span itemprop="name">浏览器</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="【devTools】常用面板"><a href="#【devTools】常用面板" class="headerlink" title="【devTools】常用面板"></a>【devTools】常用面板</h1><h2 id="Elements面板"><a href="#Elements面板" class="headerlink" title="Elements面板"></a>Elements面板</h2><h3 id="将元素存入变量"><a href="#将元素存入变量" class="headerlink" title="将元素存入变量"></a>将元素存入变量</h3><ul>
<li><p>右击</p>
</li>
<li><p>选择store as global variable</p>
</li>
<li><p>通过$0、$1…获取对应的元素</p>
</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://imgse.com/i/pCVIrHH"><img src="https://s1.ax1x.com/2023/06/11/pCVIrHH.png" alt="pCVIrHH.png"></a></p>
<h2 id="console面板"><a href="#console面板" class="headerlink" title="console面板"></a>console面板</h2><h3 id="自动合并相似信息"><a href="#自动合并相似信息" class="headerlink" title="自动合并相似信息"></a>自动合并相似信息</h3><p>Group similar message in console，浏览器默认开启的</p>
<p><a target="_blank" rel="noopener" href="https://imgse.com/i/pCVoeqe"><img src="https://s1.ax1x.com/2023/06/11/pCVoeqe.png" alt="pCVoeqe.png"></a></p>
<h3 id="Hide-network"><a href="#Hide-network" class="headerlink" title="Hide network"></a>Hide network</h3><p>隐藏网络的错误提示信息</p>
<h3 id="preserve-log"><a href="#preserve-log" class="headerlink" title="preserve log"></a>preserve log</h3><p>页面跳转时保留console信息</p>
<h3 id="show-timestamps"><a href="#show-timestamps" class="headerlink" title="show timestamps"></a>show timestamps</h3><p>打印时，会默认输入每一行信息的时间</p>
<p>打开：devtools右上角设置按钮，perferces下show timestamps</p>
<p><a target="_blank" rel="noopener" href="https://imgse.com/i/pCVoGM8"><img src="https://s1.ax1x.com/2023/06/11/pCVoGM8.png" alt="pCVoGM8.png"></a></p>
<h3 id=""><a href="#" class="headerlink" title="$_"></a>$_</h3><p>作用：获取最近一次的执行结果</p>
<p><a target="_blank" rel="noopener" href="https://imgse.com/i/pCVosMT"><img src="https://s1.ax1x.com/2023/06/11/pCVosMT.png" alt="pCVosMT.png"></a></p>
<h3 id="和"><a href="#和" class="headerlink" title="$和$$"></a>$和$$</h3><p><code>$</code>：document.querySelector</p>
<p><code>$$</code>: document.querySelectorAll</p>
<h3 id="x"><a href="#x" class="headerlink" title="$x"></a>$x</h3><p>可以使用xpath选择元素。</p>
<p>eg：$x(“&#x2F;html&#x2F;body&#x2F;div”)</p>
<p><a target="_blank" rel="noopener" href="https://imgse.com/i/pCVofiR"><img src="https://s1.ax1x.com/2023/06/11/pCVofiR.png" alt="pCVofiR.png"></a></p>
<h3 id="debug"><a href="#debug" class="headerlink" title="debug"></a>debug</h3><p>执行到该函数时就会触发断点</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">fn</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">debug</span>(fn)</span><br><span class="line"><span class="title function_">fn</span>()</span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://imgse.com/i/pCVo4Rx"><img src="https://s1.ax1x.com/2023/06/11/pCVo4Rx.png" alt="pCVo4Rx.png"></a></p>
<p><a target="_blank" rel="noopener" href="https://imgse.com/i/pCVooQK"><img src="https://s1.ax1x.com/2023/06/11/pCVooQK.png" alt="pCVooQK.png"></a></p>
<h3 id="monitor"><a href="#monitor" class="headerlink" title="monitor"></a>monitor</h3><p>函数执行时打印参数值，但无法打印箭头函数的参数</p>
<p>执行unmonitor删除效果</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">fn3</span>(<span class="params">a, b</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> a+b</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">monitor</span>(fn3)</span><br><span class="line"><span class="title function_">fn3</span>(<span class="number">1</span>,<span class="number">2</span>)</span><br><span class="line"><span class="comment">//输出：VM3370:1 function fn3 called with arguments: 1, 2</span></span><br></pre></td></tr></table></figure>

<h3 id="monitroEvents"><a href="#monitroEvents" class="headerlink" title="monitroEvents"></a>monitroEvents</h3><p>监听并打印元素触发的事件，可以用数组一次性监听多个事件。</p>
<p>执行unmonitorEvents取消监听</p>
<h3 id="getEventListeners"><a href="#getEventListeners" class="headerlink" title="getEventListeners"></a>getEventListeners</h3><p>获取注册在元素上的所有事件监听器</p>
<h3 id="queryObjects"><a href="#queryObjects" class="headerlink" title="queryObjects"></a>queryObjects</h3><p>获取所有原型链中包含该原型的对象</p>
<h2 id="source面板"><a href="#source面板" class="headerlink" title="source面板"></a>source面板</h2><h3 id="FileSystem"><a href="#FileSystem" class="headerlink" title="FileSystem"></a>FileSystem</h3><p>可以直接与本地的文件连接，在devtools修改文件之后，会将本地的文件内容也进行修改</p>
<p><a target="_blank" rel="noopener" href="https://imgse.com/i/pCVXADP"><img src="https://s1.ax1x.com/2023/06/11/pCVXADP.png" alt="pCVXADP.png"></a></p>
<h3 id="overrides"><a href="#overrides" class="headerlink" title="overrides"></a>overrides</h3><p>可以以本地的文件取代页面中载入的资源</p>
<h3 id="断点"><a href="#断点" class="headerlink" title="断点"></a>断点</h3><h4 id="条件断点"><a href="#条件断点" class="headerlink" title="条件断点"></a>条件断点</h4><p>在source代码块需要设置时，在对应的行号右键，选择Add Condition Break Point，写上具体的条件</p>
<p><a target="_blank" rel="noopener" href="https://imgse.com/i/pCVXrb6"><img src="https://s1.ax1x.com/2023/06/11/pCVXrb6.png" alt="pCVXrb6.png"></a></p>
<h4 id="断点打印信息，Logpoint"><a href="#断点打印信息，Logpoint" class="headerlink" title="断点打印信息，Logpoint"></a>断点打印信息，Logpoint</h4><p>在执行时经过该程序代码时打印信息</p>
<p><a target="_blank" rel="noopener" href="https://imgse.com/i/pCVXR8H"><img src="https://s1.ax1x.com/2023/06/11/pCVXR8H.png" alt="pCVXR8H.png"></a></p>
<h4 id="dom断点"><a href="#dom断点" class="headerlink" title="dom断点"></a>dom断点</h4><p>在element tab，右键元素，展开break on，有三种断点形式：</p>
<ul>
<li><p>subtree modifications ：元素内发生变化时暂停，如添加、删除、修改子节点</p>
</li>
<li><p>attribute modifications ：添加、删除、修改元素本身的属性时暂停</p>
</li>
<li><p>node removal：元素被删除时暂停，同时删除dom断点</p>
</li>
</ul>
<h4 id="请求断点"><a href="#请求断点" class="headerlink" title="请求断点"></a>请求断点</h4><p>在debugger时，点击在XHR&#x2F;fetch Breapoints列表右上角的+按钮，输入data，回车保存。</p>
<h4 id="事件监听器断点"><a href="#事件监听器断点" class="headerlink" title="事件监听器断点"></a>事件监听器断点</h4><p>在debugger时，在Event Listener BreakPoint列表的Control下勾选对应的事件，然后手动触发对应的事件</p>
<h4 id="忽略进入文件"><a href="#忽略进入文件" class="headerlink" title="忽略进入文件"></a>忽略进入文件</h4><p>在对应的文件代码内容区域，右键选择Add script to ignore list，添加之后，这个文件就不会在调试时进入了</p>
<h2 id="NetWork"><a href="#NetWork" class="headerlink" title="NetWork"></a>NetWork</h2><h3 id="设置区域"><a href="#设置区域" class="headerlink" title="设置区域"></a>设置区域</h3><p><a target="_blank" rel="noopener" href="https://imgse.com/i/pCVjISJ"><img src="https://s1.ax1x.com/2023/06/11/pCVjISJ.png" alt="pCVjISJ.png"></a></p>
<ul>
<li><p>Use large request rows</p>
<p>使用宽版的流量记录列表来显示</p>
</li>
<li><p>Group by frame</p>
<p>将来自相同iframe的请求聚焦在一起</p>
</li>
<li><p>show overview</p>
<p>是否显示时间轴</p>
</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://imgse.com/i/pCVj7O1"><img src="https://s1.ax1x.com/2023/06/11/pCVj7O1.png" alt="pCVj7O1.png"></a></p>
<ul>
<li><p>Capture screenslots</p>
<p>是否截图</p>
</li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2025/08/14/devTools/%E3%80%90devTools%E3%80%91performance/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="yangxin">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | Hexo">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/08/14/devTools/%E3%80%90devTools%E3%80%91performance/" class="post-title-link" itemprop="url">【devTools】performance</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2025-08-14 11:18:06" itemprop="dateCreated datePublished" datetime="2025-08-14T11:18:06+08:00">2025-08-14</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2025-03-06 17:08:26" itemprop="dateModified" datetime="2025-03-06T17:08:26+08:00">2025-03-06</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E6%B5%8F%E8%A7%88%E5%99%A8/" itemprop="url" rel="index"><span itemprop="name">浏览器</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="Performance面板"><a href="#Performance面板" class="headerlink" title="Performance面板"></a>Performance面板</h1><h2 id="开始"><a href="#开始" class="headerlink" title="开始"></a>开始</h2><h3 id="前提"><a href="#前提" class="headerlink" title="前提"></a>前提</h3><ul>
<li><p>保持环境整洁，例如使用隐私模式、清除缓存等</p>
</li>
<li><p>确定目标，在执行过程中，尽可能缩短持续时间，避免额外的操作等</p>
</li>
</ul>
<h3 id="开始记录"><a href="#开始记录" class="headerlink" title="开始记录"></a>开始记录</h3><ul>
<li><p>打开devTools，切换到Performance面板</p>
</li>
<li><p>点击左上角的圆形按钮开始记录</p>
</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://imgse.com/i/pCVcIH0"><img src="https://s1.ax1x.com/2023/06/11/pCVcIH0.png" alt="pCVcIH0.png"></a></p>
<ul>
<li><p>记录过程种可以做一些交互</p>
</li>
<li><p>点击stop停止监测</p>
</li>
</ul>
<h3 id="生成内容"><a href="#生成内容" class="headerlink" title="生成内容"></a>生成内容</h3><p><a target="_blank" rel="noopener" href="https://imgse.com/i/pCVvNc9"><img src="https://s1.ax1x.com/2023/06/11/pCVvNc9.png" alt="pCVvNc9.png"></a></p>
<ul>
<li><p>工具栏：与整体面板有关的操作选项和设置</p>
</li>
<li><p>overview图表：可视化呈现完整时间轴的基本信息</p>
</li>
<li><p>Activities：将性能信息以方块式的Activity为单位显示在不同种类的列表中</p>
</li>
</ul>
<h2 id="工具栏"><a href="#工具栏" class="headerlink" title="工具栏"></a>工具栏</h2><p><a target="_blank" rel="noopener" href="https://imgse.com/i/pCVvshD"><img src="https://s1.ax1x.com/2023/06/11/pCVvshD.png" alt="pCVvshD.png"></a></p>
<h3 id="Disabled-Javascript-Call-Stack"><a href="#Disabled-Javascript-Call-Stack" class="headerlink" title="Disabled Javascript Call Stack"></a>Disabled Javascript Call Stack</h3><p>Main列表不会显示js的Call stack信息</p>
<h3 id="Enable-advanced-paint-instrumentation"><a href="#Enable-advanced-paint-instrumentation" class="headerlink" title="Enable advanced paint instrumentation"></a>Enable advanced paint instrumentation</h3><p>记录绘制性能的详细信息，并显示在</p>
<ul>
<li><p>Frames：Frame activity的Layers分页</p>
</li>
<li><p>Main：Paint activity的Paint Profiler分页</p>
</li>
</ul>
<h2 id="Overview图表"><a href="#Overview图表" class="headerlink" title="Overview图表"></a>Overview图表</h2><p><a target="_blank" rel="noopener" href="https://imgse.com/i/pCVv79g"><img src="https://s1.ax1x.com/2023/06/11/pCVv79g.png" alt="pCVv79g.png"></a></p>
<table>
<thead>
<tr>
<th>名称</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>FPS，帧数</td>
<td><font color=green>绿色</font>竖线越高，FPS 越高。 FPS 图表上的<font color=red>红色</font>块表示长时间帧，很可能会出现卡顿</td>
</tr>
<tr>
<td>CPU，CPU 资源</td>
<td>指示消耗 CPU 资源的事件类型</td>
</tr>
<tr>
<td>NET，网络请求</td>
<td>每条彩色横杠表示一种资源。横杠越长，检索资源所需的时间越长。 每个横杠的浅色部分表示等待时间（从请求资源到第一个字节下载完成的时间），可以在屏幕快照下面查看具体的网络请求数据</td>
</tr>
</tbody></table>
<h3 id="FPS"><a href="#FPS" class="headerlink" title="FPS"></a>FPS</h3><p>绿色方块：每秒帧数的变化，红色、粉色横条为低帧数警告，即可能会让用户感受到卡顿的部分</p>
<h3 id="CPU"><a href="#CPU" class="headerlink" title="CPU"></a>CPU</h3><ul>
<li><p>灰色：浏览器内部的工作</p>
</li>
<li><p>蓝色：HTML请求、文件解析</p>
</li>
<li><p>黄色：事件、js</p>
</li>
<li><p>绿色：图像处理、画面绘制</p>
</li>
<li><p>紫色：样式计算</p>
</li>
</ul>
<h3 id="NET"><a href="#NET" class="headerlink" title="NET"></a>NET</h3><ul>
<li><p>蓝色：有请求正在执行</p>
</li>
<li><p>深色：优先权较高的请求</p>
</li>
</ul>
<h2 id="Activities"><a href="#Activities" class="headerlink" title="Activities"></a>Activities</h2><h3 id="Main"><a href="#Main" class="headerlink" title="Main"></a>Main</h3><p><a target="_blank" rel="noopener" href="https://imgse.com/i/pCVxZE6"><img src="https://s1.ax1x.com/2023/06/11/pCVxZE6.png" alt="pCVxZE6.png"></a></p>
<ul>
<li><p>作用</p>
<p>显示主线程所有的任务，持续事件超过50ms（长任务）的任务会以红色虚线和右上角的三角形标识</p>
</li>
</ul>
<p>任务底下的Activities依据类型有不同颜色，黄色的js Activity底下以随机颜色显示Call Stack Activities</p>
<h3 id="Network"><a href="#Network" class="headerlink" title="Network"></a>Network</h3><p><a target="_blank" rel="noopener" href="https://imgse.com/i/pCVx5rR"><img src="https://s1.ax1x.com/2023/06/11/pCVx5rR.png" alt="pCVx5rR.png"></a></p>
<ul>
<li><p>左侧的细线：连接至发送请求前</p>
</li>
<li><p>浅色区域：等待服务器响应</p>
</li>
<li><p>深色区域：下载资源</p>
</li>
<li><p>右侧的细线：解析资源</p>
</li>
<li><p>左上角的小方块：请求优先级，深色表示高，浅色表示浅</p>
</li>
</ul>
<h3 id="Frames"><a href="#Frames" class="headerlink" title="Frames"></a>Frames</h3><p>显示每一帧画面的详细信息</p>
<h3 id="Timeings"><a href="#Timeings" class="headerlink" title="Timeings"></a>Timeings</h3><p>显示网页使用的重要时间点</p>
<ul>
<li><p>DCL：HTML已经加载且解析完毕</p>
</li>
<li><p>FP：绘制出默认背景颜色之外的任何内容</p>
</li>
<li><p>FCP：绘制出任何文字、图片、有颜色的canvas时</p>
</li>
<li><p>LCP：绘制出页面最大的内容时</p>
</li>
<li><p>L：解析HTML期间请求的资源都载入完成时</p>
</li>
</ul>
<h3 id="Experience"><a href="#Experience" class="headerlink" title="Experience"></a>Experience</h3><p>显示所有元素位移并计算分数，越低表示页面稳定性越高</p>
<h3 id="GPU"><a href="#GPU" class="headerlink" title="GPU"></a>GPU</h3><p>显示GPU的使用事件</p>
<h3 id="Raster"><a href="#Raster" class="headerlink" title="Raster"></a>Raster</h3><p>定义：浏览器渲染流程中Paint阶段的一环</p>
<p>作用：显示产生Raster时各个线程的信息</p>
<h2 id="信息面板："><a href="#信息面板：" class="headerlink" title="信息面板："></a>信息面板：</h2><ul>
<li><p>summary：显示activity的持续时间，并将期间发生的其他activities分类显示</p>
</li>
<li><p>botton-up：将同一种activity的运行时间加总</p>
</li>
<li><p>call tree：以触发关系自上而下显示activities，最上方的称为root activity，是下面各个activities的起点</p>
</li>
<li><p>event log：以时间顺序显示activities</p>
</li>
</ul>
<blockquote>
<p>注：activity占用主线程超过50ms会被加上红色三角形，成为long task</p>
</blockquote>
<h3 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h3><p>显示该Activity的持续事件，并将期间发生的其他Activists分类显示</p>
<h3 id="call-tree"><a href="#call-tree" class="headerlink" title="call tree"></a>call tree</h3><p><a target="_blank" rel="noopener" href="https://imgse.com/i/pCV2ztK"><img src="https://s1.ax1x.com/2023/06/11/pCV2ztK.png" alt="pCV2ztK.png"></a></p>
<p>call tree会显示任务由哪些activities组成，若activity的类型为程序代码，则层层展开可以看到函数的call stack</p>
<ul>
<li><p>self time</p>
<p>函数本身的运行时间，并不包含函数执行其他函数的时间</p>
</li>
<li><p>total time</p>
<p>函数本身和其下所有函数的运行时间的总和</p>
</li>
</ul>
<h3 id="bottom-up"><a href="#bottom-up" class="headerlink" title="bottom-up"></a>bottom-up</h3><p>会将同一种activity的运行时间加总，因此分页中self time较长的函数通常是性能瓶颈的来源</p>
<p>注：总运行时间长也可能是因为执行次数多</p>
<h3 id="Event-Log"><a href="#Event-Log" class="headerlink" title="Event Log"></a>Event Log</h3><p>以触发事件顺序显示Activities</p>
<h2 id="performance-monitor"><a href="#performance-monitor" class="headerlink" title="performance monitor"></a>performance monitor</h2><h3 id="打开"><a href="#打开" class="headerlink" title="打开"></a>打开</h3><p>1、在devtool按esc打开drawer，在左上角三个点打开</p>
<p>2、在devtools右上角的三个点，打开more tools打开</p>
<h3 id="作用"><a href="#作用" class="headerlink" title="作用"></a>作用</h3><p>实时监测性能信息，用于检查特定功能是否存在内存泄漏的问题，实时反应内存用量的趋势。一般会把重点放在js heap size（js内存使用占有量）和dom tools</p>
<p><a target="_blank" rel="noopener" href="https://imgse.com/i/pCVf0T1"><img src="https://s1.ax1x.com/2023/06/11/pCVf0T1.png" alt="pCVf0T1.png"></a></p>
<h2 id="Web-Vitals"><a href="#Web-Vitals" class="headerlink" title="Web Vitals"></a>Web Vitals</h2><h3 id="LCP：前端性能指标，用于表示加载速度"><a href="#LCP：前端性能指标，用于表示加载速度" class="headerlink" title="LCP：前端性能指标，用于表示加载速度"></a>LCP：前端性能指标，用于表示加载速度</h3><p>可以在performance的timeing中可以看到</p>
<p><a target="_blank" rel="noopener" href="https://imgse.com/i/pCV4QP0"><img src="https://s1.ax1x.com/2023/06/11/pCV4QP0.png" alt="pCV4QP0.png"></a></p>
<h3 id="FID：表示首次输入延迟"><a href="#FID：表示首次输入延迟" class="headerlink" title="FID：表示首次输入延迟"></a>FID：表示首次输入延迟</h3><p>通过rendering分页的Core Web Vitals来判断</p>
<p><a target="_blank" rel="noopener" href="https://imgse.com/i/pCV45z8"><img src="https://s1.ax1x.com/2023/06/11/pCV45z8.png" alt="pCV45z8.png"></a></p>
<h3 id="CLS：表示累计布局偏移"><a href="#CLS：表示累计布局偏移" class="headerlink" title="CLS：表示累计布局偏移"></a>CLS：表示累计布局偏移</h3><p>通过performance的Experience的layout shift标签</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2025/08/14/devTools/%E3%80%90devTools%E3%80%91layers/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="yangxin">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | Hexo">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/08/14/devTools/%E3%80%90devTools%E3%80%91layers/" class="post-title-link" itemprop="url">【devTools】layers</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2025-08-14 11:18:06" itemprop="dateCreated datePublished" datetime="2025-08-14T11:18:06+08:00">2025-08-14</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2025-03-06 17:08:26" itemprop="dateModified" datetime="2025-03-06T17:08:26+08:00">2025-03-06</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E6%B5%8F%E8%A7%88%E5%99%A8/" itemprop="url" rel="index"><span itemprop="name">浏览器</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="【devTools】layers"><a href="#【devTools】layers" class="headerlink" title="【devTools】layers"></a>【devTools】layers</h1><h2 id="元素绘制"><a href="#元素绘制" class="headerlink" title="元素绘制"></a>元素绘制</h2><p>可以查看哪些元素正在绘制</p>
<h3 id="打开"><a href="#打开" class="headerlink" title="打开"></a>打开</h3><ul>
<li><p>在devtools页面按esc，点击左上角的三个点，打开rendering分页</p>
</li>
<li><p>勾选对应的选项</p>
</li>
</ul>
<h3 id="页面表现"><a href="#页面表现" class="headerlink" title="页面表现"></a>页面表现</h3><ul>
<li>勾选了paint flashing</li>
</ul>
<p>元素正在绘制时，会由绿色小框表示</p>
<p><a target="_blank" rel="noopener" href="https://imgse.com/i/pCVha38"><img src="https://s1.ax1x.com/2023/06/11/pCVha38.png" alt="pCVha38.png"></a></p>
<ul>
<li>勾选layer borders</li>
</ul>
<p>可以显示每个图层的区域范围</p>
<p><a target="_blank" rel="noopener" href="https://imgse.com/i/pCVh4u4"><img src="https://s1.ax1x.com/2023/06/11/pCVh4u4.png" alt="pCVh4u4.png"></a></p>
<h2 id="layers"><a href="#layers" class="headerlink" title="layers"></a>layers</h2><h3 id="打开-1"><a href="#打开-1" class="headerlink" title="打开"></a>打开</h3><p>在devtools右上角三个点，点击more tools，点击layers打开layers标签</p>
<h3 id="效果"><a href="#效果" class="headerlink" title="效果"></a>效果</h3><p><a target="_blank" rel="noopener" href="https://imgse.com/i/pCV4AxS"><img src="https://s1.ax1x.com/2023/06/11/pCV4AxS.png" alt="pCV4AxS.png"></a></p>
<p>可以显示当前页面存在哪些图层，对于具体的图层，可以看到其对应的大小、产生原因及内存占有量</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2025/08/14/devTools/Chrome--performance/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="yangxin">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | Hexo">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/08/14/devTools/Chrome--performance/" class="post-title-link" itemprop="url">Chrome的Performance</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2025-08-14 11:18:06" itemprop="dateCreated datePublished" datetime="2025-08-14T11:18:06+08:00">2025-08-14</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2025-03-06 17:08:26" itemprop="dateModified" datetime="2025-03-06T17:08:26+08:00">2025-03-06</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E6%B5%8F%E8%A7%88%E5%99%A8/" itemprop="url" rel="index"><span itemprop="name">浏览器</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="Chrome-的-performance"><a href="#Chrome-的-performance" class="headerlink" title="Chrome 的 performance"></a>Chrome 的 performance</h1><h2 id="开始记录"><a href="#开始记录" class="headerlink" title="开始记录"></a>开始记录</h2><p>可以通过调整这两个参数模拟低网低 cpu 情况 <a target="_blank" rel="noopener" href="https://imgtu.com/i/bRXxL4"><img src="https://s1.ax1x.com/2022/03/09/bRXxL4.png" alt="bRXxL4.png"></a></p>
<p>点击按钮，刷新页面或者只需要旁边的刷新按钮开始进行记录分析 <a target="_blank" rel="noopener" href="https://imgtu.com/i/bRjuTA"><img src="https://s1.ax1x.com/2022/03/09/bRjuTA.png" alt="bRjuTA.png"></a></p>
<h2 id="操作设置栏-controls"><a href="#操作设置栏-controls" class="headerlink" title="操作设置栏 controls"></a>操作设置栏 controls</h2><ul>
<li>可以通过这个下拉框看到之前的分析数据</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://imgtu.com/i/bRjI1K"><img src="https://s1.ax1x.com/2022/03/09/bRjI1K.png" alt="bRjI1K.png"></a></p>
<ul>
<li>其他配置</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://imgtu.com/i/bRvDUA"><img src="https://s1.ax1x.com/2022/03/09/bRvDUA.png" alt="bRvDUA.png"></a></p>
<h2 id="页面性能的高级汇总-overview"><a href="#页面性能的高级汇总-overview" class="headerlink" title="页面性能的高级汇总 overview"></a>页面性能的高级汇总 overview</h2><p><a target="_blank" rel="noopener" href="https://imgtu.com/i/bRzmmF"><img src="https://s1.ax1x.com/2022/03/09/bRzmmF.png" alt="bRzmmF.png"></a> <a target="_blank" rel="noopener" href="https://imgtu.com/i/bWF68H"><img src="https://s1.ax1x.com/2022/03/09/bWF68H.png" alt="bWF68H.png"></a></p>
<ul>
<li>颜色表示<blockquote>
<p><font color=#87CEFA>HTML</font></p>
</blockquote>
</li>
</ul>
<blockquote>
<p><font color=yellow>脚本</font></p>
</blockquote>
<blockquote>
<p><font color=#9370DB>样式</font></p>
</blockquote>
<blockquote>
<p><font color=green>媒体资源</font></p>
</blockquote>
<blockquote>
<p><font color=gray>其他资源</font></p>
</blockquote>
<table>
<thead>
<tr>
<th>名称</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>FPS，帧数</td>
<td><font color=green>绿色</font>竖线越高，FPS 越高。 FPS 图表上的<font color=red>红色</font>块表示长时间帧，很可能会出现卡顿</td>
</tr>
<tr>
<td>CPU，CPU 资源</td>
<td>指示消耗 CPU 资源的事件类型</td>
</tr>
<tr>
<td>NET，网络请求</td>
<td>每条彩色横杠表示一种资源。横杠越长，检索资源所需的时间越长。 每个横杠的浅色部分表示等待时间（从请求资源到第一个字节下载完成的时间），可以在屏幕快照下面查看具体的网络请求数据</td>
</tr>
</tbody></table>
<p><a target="_blank" rel="noopener" href="https://imgtu.com/i/bWCE4J"><img src="https://s1.ax1x.com/2022/03/09/bWCE4J.png" alt="bWCE4J.png"></a></p>
<h2 id="火焰图：-CPU-堆叠可视化"><a href="#火焰图：-CPU-堆叠可视化" class="headerlink" title="火焰图： CPU 堆叠可视化"></a>火焰图： CPU 堆叠可视化</h2><p><a target="_blank" rel="noopener" href="https://imgtu.com/i/bWEmgH"><img src="https://s1.ax1x.com/2022/03/09/bWEmgH.png" alt="bWEmgH.png"></a></p>
<ul>
<li>Timing</li>
</ul>
<blockquote>
<p>FCP: First Contentful Paint，白屏时间，第一个元素出现的时间</p>
</blockquote>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/174837488">LCP</a>: Largest Contentful Paint，视窗最大可见图片或者文本块的渲染时间</p>
</blockquote>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/qiwoo_weekly/article/details/98818202">FMP</a>: First Meaningful Paint，首次有效绘制时间，页面的“主要内容”开始出现在屏幕上的时间点</p>
</blockquote>
<blockquote>
<p>DCL: DOMContentLoaded Event，dom 加载完毕时间</p>
</blockquote>
<blockquote>
<p>L: Onload Event，完全加载完毕时间</p>
</blockquote>
<table>
<thead>
<tr>
<th>名称</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>Network</td>
<td>资源加载顺序及时长</td>
</tr>
<tr>
<td>Main</td>
<td>渲染进程中主线程的执行记录，点击 main 可以看到某个任务执行的具体情况<a target="_blank" rel="noopener" href="https://imgtu.com/i/bWV5Os"><img src="https://s1.ax1x.com/2022/03/09/bWV5Os.png" alt="bWV5Os.png"></a></td>
</tr>
<tr>
<td>Timings</td>
<td>用户交互操作，比如点击鼠标、输入文字、动画等</td>
</tr>
<tr>
<td>Compositor</td>
<td>r 合成线程的执行记录，用来记录 html 绘制阶段 (Paint)结束后的图层合成操</td>
</tr>
<tr>
<td>Raster</td>
<td>光栅化线程池，用来让 GPU 执行光栅化的任务</td>
</tr>
<tr>
<td>GPU</td>
<td>GPU 进程主线程的执行过程记录，如 可以直观看到何时启动 GPU 加速</td>
</tr>
<tr>
<td>Frame</td>
<td>ifream 框架加载详情</td>
</tr>
<tr>
<td>Memory</td>
<td>不同的时间段的执行情况。页面中的内存使用的情况<a target="_blank" rel="noopener" href="https://imgtu.com/i/bWZwNV"><img src="https://s1.ax1x.com/2022/03/09/bWZwNV.png" alt="bWZwNV.png"></a></td>
</tr>
</tbody></table>
<ul>
<li><p>在火焰图上看到一到三条垂直的虚线。蓝线代表 DOMContentLoaded 事件。 绿线代表首次绘制的时间。 红线代表 load 事件</p>
</li>
<li><p>如果是耗时长的 Task，其右上角会标红，这个时候，我们可以选中标红的 Task，然后放大，看其具体的耗时点。放大后，这里可以看到都在做哪些操作，哪些函数耗时了多少,这里代码有压缩，看到的是压缩后的函数名。然后我们点击一下某个函数，在面板最下面，就会出现代码的信息，是哪个函数，耗时多少，在哪个文件上的第几行等。这样我们就很方便地定位到耗时函数了。<br><a target="_blank" rel="noopener" href="https://imgtu.com/i/bWu7JP"><img src="https://s1.ax1x.com/2022/03/09/bWu7JP.png" alt="bWu7JP.png"></a></p>
</li>
</ul>
<h2 id="Summary性能摘要"><a href="#Summary性能摘要" class="headerlink" title="Summary性能摘要"></a>Summary性能摘要</h2><p><a target="_blank" rel="noopener" href="https://imgtu.com/i/bWmDOJ"><img src="https://s1.ax1x.com/2022/03/09/bWmDOJ.png" alt="bWmDOJ.png"></a></p>
<ul>
<li>颜色表示<blockquote>
<p><font color=#87CEFA>Loading</font>：网络通信和HTML解析</p>
</blockquote>
</li>
</ul>
<blockquote>
<p><font color=yellow>Scripting</font>：JavaScript执行</p>
</blockquote>
<blockquote>
<p><font color=#9370DB>Rendering</font>：样式计算和布局，即重排</p>
</blockquote>
<blockquote>
<p><font color=green>Painting</font>：重绘</p>
</blockquote>
<blockquote>
<p><font color=gray>other</font>：其它事件花费的时间</p>
</blockquote>
<blockquote>
<p><font color=white>Idle</font>：空闲时间</p>
</blockquote>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/zjjing/p/9106111.html">事件包含</a></p>
<h3 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h3><p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/29879682">Chrome Performance 使用栗子</a></p>
<p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/163474573">Chrome Performance 页面性能分析指南</a></p>
<p><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/b6f87bac5381">饼状图分析</a></p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/xiaohuochai/p/9182710.html">performance</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <a class="extend prev" rel="prev" title="Previous page" aria-label="Previous page" href="/page/8/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/8/">8</a><span class="page-number current">9</span><a class="page-number" href="/page/10/">10</a><a class="extend next" rel="next" title="Next page" aria-label="Next page" href="/page/10/"><i class="fa fa-angle-right"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 
    <span itemprop="copyrightYear">2025</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">yangxin</span>
  </div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/muse/" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>

</body>
</html>
