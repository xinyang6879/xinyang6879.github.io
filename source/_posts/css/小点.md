---
title: 【css】小点
categories: css
---

### 块级和行内

行内多为描述性标记，块级多为结构性标记。块级元素即使声明了宽度也独占一行

### link和@import

- 从属关系：
    - @import是css提供的语法，只有导入样式表的作用
    - link是html提供的标签，可以加载css文件，也可以定义rss、rel链接属性等

- 加载顺序
    - @import引入的将会在页面解析完成后被加载
    - link引入的同时css被加载

- 兼容性
    - @import是css2.1的特性，在ie5之后才可以使用
    - link是html标签，兼容性好

- dom可控性
    - 无法使用@import的方式插入样式，因为dom方法基于文档
    - 插入link标签可以改变样式，通过js操作dom即可

### css的引入方式

- 内联样式:style
- 内部样式表:<style></style>标签
- link引入
- @import引入

### css3新特性
- 阴影: box-shadow、text-shadow
- 圆角: border-raduis
- 盒子模型: box-sizing
- 渐变: linear-gradient、radial-gradient
- 颜色:新增RGB、HSLA模式
- 过渡: transition
- 背景: background-size、background-origin、background-clip
- 伪元素: selection(唯一在css3中新增的)
- 新增伪类
    - p: first-of-type: 选择属于其父元素的首个p元素的每个p元素
    - p:only-of-type: 选择属于其父元素唯一的p元素的每个p元素
    - p:last-of-type: 选择属于其父元素的最后一个p元素的每个p元素
    - p:only-child: 选择属于其父元素的唯一子元素的每个p元素
    - p:nth-child(n): 选择属于其父元素的第n个子元素的每个p元素
    - :enabled、:disabled: 控制表单控件的禁用状态
    - :checked: 单选框或复选框被选中

### 为什么需要初始化css

- 浏览器差异

    由于各家浏览器内核可能使用不同,不同浏览器对有些标签的默认值是不同的,如果没有初始化,那么就在不同浏览器中表现会有差异

- 提高编码质量

    如果不初始化,整个页面较乱,重复的css有很多

### 浏览器解析css选择器

浏览器解析加载资源与渲染顺序

- 浏览器下周的顺序从上到下,渲染也是从上到下,下载和渲染并行
- 渲染在某一部分时,其上的所有部分都已经下载完成(不是所有相关联的元素都已经下载完成,例如img)
- 如果遇到语义解释性的标签嵌入文件(例如css或js文件),那么ie的下载过程会启用单独连接进行下载,且在下载后进行解析,解析过程中,停止后续元素的下载渲染.此时渲染会被阻塞,必须等js或者css资源加载完毕后才进行后续的渲染
- 样式表下载完成后,将和之前下载的所有样式表一起进行解析.解析完成后,将会对之前所有的元素(包括已经渲染的)重新进行渲染.

浏览器对css选择器的解析规则

解析是从右到左的,例如p .classA,会先查找classA的元素,再
去查找classA元素的父元素是否是p标签

### 隐藏元素方法

- display:none

    点击失效,不会占位置

- opacity:0

    占位置,有点击事件

- visible:hidden

    占位置,无点击事件

- background:transparent

    背景色透明化

- position:absolute/fixed + left: -100vw

    移出屏幕

- filter:blur(0)

    将元素模糊度设置为0,从而使元素消失在页面中

- height: 0 + width: 0

    将高度和宽度设置为0,使元素消失在页面中

#### visible:hidden和display:none的区别

- 当父元素设置的visibility:hidden时,子元素会继承这个样式,若子元素设置的visible不是hidden,那么子元素可以显示在页面中
- transition动画中,visible生效,但是display是无用的
- visible:hidden不会影响计数器的计数,display:none会

display=none不显示对应的元素及其子元素,在文档布局中不再分配空间(回流+重绘)

visible=hidden只不再显示当前元素,但是在文档空间中还是会保留这个元素的(重绘)

### css选择器有哪些,哪些可以继承

- class: 可继承
- id
- 标签: 可继承
- 后代选择器: 可继承
- 群组选择器: 可继承

### font属性设置

缩写:`font: 变体、字号、行高、字体`,使用顺序不区分,但是一般字号和行高写一起,中间用/分开,例如10px/20px

font属性
- 大小:font-size
- 样式:font-style
- 字重: font-weight
- 行高: line-height
- 字体: font-family
- 大小写: text-transform: uppercase(大写)/lowercase(小写)/capitalize(首字母大写)
- 修饰: text-decoration: underline(下划线)/overline(上划线)/line-through(删除线)/none(无修饰)
- 变体: font-variant: small-caps(小型大写字母)/normal(正常)

### line-height

影响

- 代替元素:line-height无影响
- 非代替元素: line-height影响
- 行内元素: line-height用于计算line-box高度
- 块级元素: line-height指定元素内部line-box的最小高度

值类型:

- normal: 取决于用户代理,浏览器使用默认值,大概1.2
- number: 无单位情况是number * 元素字体大小
- length: 指定length用于计算line-box高度
- percentage: 与元素自身的字体大小有关,计算值是给定的百分比 * 元素计算后的字体大小

默认值: normal,可以继承.如果父元素的值是一个百分比,那么子级继承的是父级计算之后的结果

行高: 上下文本行的基线间的垂直距离

行距:一行底线到下一行定县的垂直距离,即第一行线和第二行线之间的垂直距离

半行距=行距的一半=(行高-字体size)/2

### css优化

- 压缩
- 合理设计,复用,减少渲染时间
- 合并属性
- 减少抵消代码例如滤镜、!import引入等
- 减少css嵌套
- 减少css rest使用
- 考虑继承
- 渲染: 慎用高性能属性(float/定位等); 减少页面重绘重排

### 字体用偶数还是奇数

- 使用偶数较容易和页面中其他部分的字号构成一个比例关系
- 浏览器原因:低版本的ie6会把奇数字号转为偶数
- ui设计稿给的大部分是偶数(PS提供偶数)

### first-child和first-of-type区别

first-child表示的是父元素其下的第一个元素

first-of-type表示的是父元素其下,符合条件的第一个元素,可能并不是第一个元素

### 伪类和伪元素

伪类: 表示元素处于的某种状态

伪元素: 某个元素的子元素,虽然在逻辑上存在,但实际不存在于文档流中

### inline-block和float区别

inline-block: 具有block的属性,但是排列顺序按照inline来定

float:当设置元素浮动时,相邻元素会一句自身大小排满一行,如果父容器宽度不够换行.当设置了元素浮动时,元素就已经脱离了文档流了,相邻元素会呈环绕装排列

都可以并行显示,可以设置宽高

区别:
- inline-block:水平排列一行,即使元素高度不一致,会以高度最大的元素高度未行高,即使高度小的元素周围留空,也不会有第二行的元素上浮补位.可以设置默认的垂直对齐基线

- float: 让元素脱离文档流,呈环绕状排列,如果遇到上行有空白,且当前元素宽度小于等于空白处,那么元素会上行补位.默认顶部对齐

### absolute和float区别

float主要调节包围文字,position主要用于调节定位

float可以将元素从文档里抽出,并不占文档流的空间.position的absolute和fixed也不会占据文档流,但这两个不适合用于给整个网页做布局,因为这样需要为页面上的每一个元素设置坐标来定位

float可以用来做布局

### web安全色

不同的平台(mac,pc等)有不同的调色板,不同浏览器也有不同的调色板,那么就可能会导致同一个图片,在mac和pc浏览器的显示效果有差异

将颜色的十进制/rgb转为十六进制使用S

### float元素浮动

浮动规则: 向指定方向移动,直到碰到包含它的元素或同样float元素的边框.如果元素浮动则不占空间,block元素浮动会失去block属性变为inline-block.但与absolute的元素不影响其他元素不同,float有时会影响周边元素

- float元素前面是非block元素,且这些元素在同一行,则浮动会影响它前面的元素,把它前面的非block元素挤到边上
- 如果前面非block元素放不下,则去影响它的下一行,此时可以把过长的inline元素们作为一个整体当block去看.如果float元素下面是非block元素,则会把该元素往边上挤;如果下面是block元素,则会覆盖上该元素,但只是背景的覆盖,依然会把该block元素内容挤到边上
- 如果浮动元素面积够大,并且下面不出现清理浮动的css,那么下面的元素都会有影响
- 如果给float元素加上偏移,则会挡住其他元素,不管这个元素是block还是inline

#### @font-face

css功能,允许使用自定义的网络字体

### opacity和background透明色

- opacity:0: 作用于元素以及元素内所有内容的透明度
- transparent: 只能用于元素颜色或者背景色

### css雪碧图

优点:

- 减少http请求次数,提高页面性能
- 减少图片总字节,3个图片字节＜3个图片合成的1张图片字节
- 解决图片命名很多
- 更换风格方便

缺点

- 在图片合并时,需要把多张图片有序合理的合并为一张图片,还需要留好足够的空间,防止出现不必要的背景.在宽屏、高分辨率的屏幕下自适应页面,如果图片不够宽,容易出现背景断裂
- 雪碧图在开发时比较麻烦,需要测量每个单元背景的精确位置
- 维护麻烦,一个图标的改动就需要改动合并的图片

### 获取元素背景色

`getComputedStyle`, 但还需要考虑
- 硬件加速时,存在layer squashing的情况
- 存在floating元素显示在任意元素上方的情况
- 考虑opacity
- zindex

但当多个元素堆叠在一起或背景色带透明度情况下, 可以使用alpha blending

### px,em和rem

px: 实际上就是像素,用px设置字体时比较稳定和准确.但px不支持用户进行浏览器缩放或者不同移动端的兼容,因为像素是固定的,屏幕大小可能会有变化

    - ie无法调整使用px作为单位的字体大小
    - px是相对长度单位,是相对于显示器屏幕分辨率而言的

em: 依据父元素的fontsize来决定的.

    - em是相对长度单位,如果当前未对行内文本的字体尺寸设置,那么则相对于浏览器的默认字体尺寸
    - em不是固定的,会继承父级的字体大小

rem: 依据根元素的fontsize来决定的.

    - 一般来说,1em=1rem=100&=16px

### 屏幕适配方法

- 响应式

    主要是工作量大,维护难
- 设置viewport进行缩放

    可能会导致页面元素模糊
- 固定宽度

    在大屏手机上页面看起来小

- 流式布局

    页面布局通过百分比来定义宽度,高度大都使用px固定.因此在大屏幕手机下显示效果比较大,宽度很大
