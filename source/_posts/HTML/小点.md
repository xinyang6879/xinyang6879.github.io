---
title: 【HTML】记录小点
categories: HTML
---

### 如何区分H5、HTML、XHTML

基本概念：

- H5：是html、xhtml和html dom的新标准，h5最先是由web'超文本应用技术工作组命名的一种超文本标记语言，随后与w3c的xhtml2.0结合，产生了现在的h5。可以理解为h5=html+css3+HTML+JS+API

- HTML：超文本标记语言，是一种基本的web网页设计语言

- XHTML：可扩展的文本标记语言，是一种置标语言，表现方式和HTML类似，不过语法更加严格。本质上讲，XHTML是一个过度技术，结合了XML的强大功能及大多数HTML的简单特性

特性区别

- H5：
    - 用于绘画的canvas
    - 用于媒介的video和audio元素
    - 对本地离线储存有更好的支持
    - 新的特殊内容元素：article、aside、footer、header、hgroup、nav、section
    - 新的表单控件：calendar、date、time、email、url、search
    - 语义化标签，例如header、h1、footer等，有利于SEO

- HTML
    - 标识文本，例如定义标题文本、段落文本、列表文本等
    - 建立超链接，便于页面链接的跳转
    - 创建列表，把信息有序地组织在一起以方便预览
    - 在网页中显示图像、声音、视频、动画等多媒体信息
    - 可以制作表格、表单
    - 无语义化标签

- XHTML：
    - 要求正确嵌套
    - 所有元素必须关闭
    - 区分大小写
    - 属性要用双引号
    - 用id属性替代name
    - 特殊字符处理
    - 处理各大浏览器的兼容问题

### W3C

- W3C标准规范要求：书写标签必须闭合、标签小写、不乱嵌套，可以提高机器人对网页的搜索概率
- 建议使用CSS和JS脚本，从而达到结构与行为、结构与表现的分离，提高页面渲染速度，可以更快显示页面内容
- 不需要变动页面内容，可以提供打印版本而不需要复制内容，提高网站易用性。
- 标签样式分离，合理语义化标签，使内容能被更多用户访问和更广泛的设备访问，使用更少的代码和组件，从而降低维护成本，且改版容易

### HTML的DOCTYPE作用

- 定义

    是Document Type的简写，不是HTML标签，也没有结束标签，只用于告诉浏览器当前HTML是用什么版本编写的，是一种标记语言的文档类型声明

    必须在html第一行，在html标签前面，其会影响代码验证，并决定了浏览器应该如何显示用户的web文档

- 作用

    用于声明文档类型，浏览器通过这个可以了解预期的文档类型，这样可以知道用哪一种规范（DTD）解析文档（html或xhtml）

### HTML的DOCTYPE的种类

- 严格版本Strict、过渡版本Transitional和基于框架Frameset

- 严格版本/标准模式：呈现遵循最新标准的网页
- 松散/兼容/包容模式：为传统浏览器设计的网页

### Quirks是什么，与标准模式区别

- Quirks/包容模式
    
    IE6之前的页面不会写DTD，所以ie6假定了如果写了DTD，那么就意味着这个页面采用对css支持更好的布局，如果没有，就采用兼容之前的布局方式，这就是quirks模式

- 区别
    - 盒模型
        
        标准模式：宽度=width

        quirks模式：宽度=padding+width+border

    - 设置百分比的高度：

        标准模式：元素高度是由内容来决定的。如果父元素没有设置高度，那么子元素设置的高度百分比是无效的

    - 设置行内元素高度

        标准模式：行内元素高度设置是无效的

        quirks模式：行内元素可以设置高度

    - 设置水平居中

        标准模式：margin=auto是有效的

        quirks模式：auto是无效的

### h5新特性

- 离线缓存：关闭浏览器后再次打开时恢复数据，减少网络流量
- 音视频、调用摄像头、手机相册、通讯录等
- 地理定位
- canvas绘图
- 拖拽、撤销历史、文本选择等
- 开发和维护成本低于app，页面内存占用小，减少用户不必要支出
- css3支持字体嵌入、版面排版
- figure: 规定独立的流内容(图片,代码等),figure的内容应该与主内容相关,同时元素位置相对于主内容是独立的,如果被删除不会造成影响

### 元素alt和title

- 相同处：都属于提示类文案
- 不同
    - alt在图片中，加载失败时显示alt，而title是会出现一个小浮窗
    - alt是img必要属性，只能用在img、area和input元素中，title不是img必要属性，任何元素都可以使用
    - alt只能是元素属性，title可以作为属性，也可以作为标签\<title\>使用
    - a标签嵌套img标签时，起作用的是img的title属性
    - 无障碍：alt可以触发阅读器，title不行
    - SEO：alt可以作为图片的SEO优化，title对于元素的SEO优化较小

### background-image和img设置图片有什么区别

相同点：

- 都可以显示图片
- 可以设置图片大小

不同点: 
- background-image是css属性，img是html标签
- background-image设置宽高需要配合background-position、background-size等属性，img标签与width、height配合
- img可以设置alt属性，用于优化seo和图片加载失败的描述，background-image不行
- img可以使用srcset属性用于响应式图片（srcset="image-1x.jpg 1x, image-2x.jpg 2x" ）
- img是作为独立元素，影响文档流；background-image是作为背景图，不影响文档流
- 加载时机:
    - img：html渲染到img标签时就会进行图片加载
    - background-image：
        - 内联（style="background-image:url(image.jpg)": 和img标签类似，解析到则进行加载
        - 外部css：css文件下载并解析后执行
        - 当页面内容加载过多时，可能会降低background-image的加载优先级，因此会被认为是装饰性图片
- 懒加载
    - img：loading="lazy"，chrome76+，firefox75+
    - background-image：只能通过js或css实现
- 大图时导致页面延迟渲染
    - img：
        - 在解析html时，若未加上loading="lazy"，那么就会立马进行图片加载，这个时候会占用带宽，因此会导致关键资源加载延迟
        - 未设置宽高时，由于图片加载后，会导致其余元素位置变化，而触发回流
    - background-image：
        - 对图片的加载是在css解析过程中进行的
        - 背景图的加载一般会触发重绘，通常不会导致回流（除非元素尺寸依赖于背景图

优缺点：

- img：
    - 优点：
        - 语义化
        - 利于seo和无障碍优化
        - 响应式：loading="lazy"（有兼容性
        - 打印支持：在打印时显示图片
    - 缺点
        - 影响其他元素
        - 图片较大会影响页面渲染，图片过多会增加http请求
    - 场景
        - 内容性图片：如文章配图、产品展示图、用户头像等。
        - 需要 SEO 优化的图片：如商品图片、图表等。
        - 需要可访问性支持的图片：如信息图、图表等。
        - 需要打印的图片：如报告、文档中的插图。

- background-image：
    - 优点：
        - 利用雪碧图可以减少http请求
        - 不占用文档流
        - 图片加载失败不会影响页面结构
    - 缺点：
        - 不利于seo和无障碍
        - 默认不打印背景图片
        - 响应式：需要手动写
    - 场景：
        - 装饰性图片：如按钮图标、背景纹理、边框装饰等。
        - CSS 雪碧图：合并多个小图标减少请求。
        - 全屏背景或遮罩：如页面背景图、模态框遮罩层。
        - 动态效果控制：通过 CSS 动画或过渡实现背景图变化。

### 乱码原因

- 不同编码内容混杂：html乱码是由html编码问题造成的
- 未设置html编码，设置meta头text/html;charset=utf-8
- 编辑工具的编码问题，例如使用记事本直接写html可能会造成乱码
- 浏览器不能自动检测网页编码，造成网页乱码

### js放在html不同位置有什么区别

- 如果使用`window.`，将js放在里面，则在哪儿都一样，因为都是需要等body之后再加载
- 如果不使用`window.`，放在head中，代码不会执行。因为html执行顺序不同，html从开始运行到进入index.js文件，其中被function包围起来的代码不会被运行，直接执行最后一句代码。如果html页面没有加载完，找不到元素会报错

### 什么是列表及列表分类

列表定义：

- 是一种信息资源的展示方式
- 可以使得信息结构化和条理化，并以列表的样式显示出来，便于阅读者快速方便的获取信息
- ul、ol、dl不能嵌套其他标签，但是li可以

列表分类

- ol：有序列表
    - 有顺序，每个li独占一行
    - 一般用于排序类型的列表
    - 默认li标签前面有顺序标记
- ul：无序列表
    - 无顺序，每个li独占一行
    - 一般用于无序类型的列表，例如导航栏等
    - 默认li标签前面有·标记
- dl：自定义列表
    - 无顺序，dt、dd标签独占一行
    - 一般用于一个标题下有一个或多个列表项
    - 默认无标记

### 常见表单元素

- input

    type类型包括：password、text、image、hidden、file
- textarea

    可设置行列数
- button
- select

    option、label
- radio
- checkbox

### 表单提交方式

- submit提交

    在form表单加上action属性，且input加上type=submit
- axios提交

### 为什么使用h5标签布局网页

对h5来说，网页结构与使用更加语义化，利于seo

section和article标签相似，且和nav也类似

nav：非常常见的标签，本身无任何语义，用作布局及样式话标签

section：用作一段有专题性的内容，一般在这个标签里面会带有标题。典型场景包括文章章节、标签对话框的标签页或论文中有编号的部分

article：特殊的section标签，代表一个独立完整的相关内容块

### 如何达到表单的初步验证

验证属性
- `required`：必填
    - `valueMissing`: 判断当前元素是否为空，配合`required`使用
- `pattern`：正则验证当前元素值是否匹配
    - `patternMismatch`: 判断当前元素是否符合正则，配合`pattern`使用
- `max`和`min`：验证当前元素最大或最小值，一般用于染个/number类型的元素
    - rangeUnderflow：判断当前元素值是否小于min属性值，配合min属性使用
- `minlength`和`maxlength`：验证内容最大长度和最小长度
    - `tooLong`: 判断当前元素长度是否符合，配合`maxlength`使用
- `validity`：h5表单提供的一种有效状态，有效状态通过`validityState`获取，`validityState`通过`validity`获取

验证状态

- `typeMismatch`: 判断当前元素值的类型是否匹配，配合email/number/url使用
- `stepMismatch`: 判断当前元素是否与step设置相同，配合step使用，并不与min、max属性值比较
- `valid`: 判断当前元素是否正确，返回true标识验证成功
- `customError`: 配合`setCustomValidity()`方法使用
- setCustomValidity(message)：设置自定义错误信息，一旦使用该方法修改默认错误提示后，即使输入正确也会有提示

### iframe优缺点

优点:
- 解决加载缓慢的第三方内容
- iframe跨域通信(postMessage)
- iframe无刷新文件上传

缺点
- 阻塞主页面的onLoad事件
- 不利于seo
- 页面产生多,不利于管理
- 增加服务器请求
- 可能会导致资源无法共用
    - 同源+缓存策略(未过期/不需要重新请求)会从缓存中读取
    - 同源 + 缓存过期但有 ETag	⚠️ 发送条件请求（可能返回 304）
    - 跨域 + 无 CORS 缓存策略	✅ 重新请求
    - 请求头或方法不同	✅ 重新请求

### 页面性能优化

- 内容方面
    - 减少http请求
    - 使用http2/3
    - 减少dom元素数量
    - 请求缓存
    - 使用多域名负载网页内的多个文件,图片
    - 使用gzip压缩
- css
    - css放到页面上端
    - 把js和css分离开
    - 精简js和css
    - 避免css表达式
- js
    - tree shanking
    - 放到页面底部
    - 减少重复代码
- 图片
    - 优化图片
    - 不缩放图片
    - 使用恰当的图片格式(webp更好)
    - css雪碧图优化

### 图片懒加载和预加载

懒加载: 滚动到了图片的位置,才进行加载.

减少不必要的访问数据库或延迟访问数据的次数,减少服务器端的压力

预加载: 在还没到图片位置的时候,就开始加载图片

在网页全部加载之前加载图片,那么当用户查看时,可以之间从缓存中渲染图片,减少等待时间

当图片过大时,可能会导致页面白屏时间加长

### a标签作用

- 外部页面连接
- 本地页面链接

    href指向相对路径,就可以打开当前目录下对应的文件
- 锚点链接
- 其他
    - 打开email: `<a href='mailto:邮件接收人'></a>`
    - 短链,打开小程序,qq等
    - 打电话: `<a href='tel: 180xxx'></a>`